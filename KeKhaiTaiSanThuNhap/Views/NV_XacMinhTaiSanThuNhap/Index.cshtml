
@{
    ViewBag.Title = "Nghiệp Vụ Xác Minh Tài Sản, Thu Nhập";
    Layout = "~/Views/Shared/_Layout.cshtml";

    <style>
        .nav-link, disabled{
            cursor: pointer !important;
        }
        
    </style>
}

<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-left">
                    <li class="breadcrumb-item"><a href="@Url.Action("Index","Home")">Trang chủ</a></li>
                    <li class="breadcrumb-item active">Nghiệp Vụ Xác Minh Tài Sản, Thu Nhập</li>
                </ol>
            </div>
        </div>
    </div>
</section>

<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="card elevation-2">
                    <div class="card-tools">
                        <div class="input-group input-group-sm row">
                            <input type="text" name="table_search" class="form-control float-right mr-1" placeholder="Tìm..." id="Filter">
                            <div class="input-group-append mr-3">
                                <button type="submit" class="btn btn-default" id="search_btn">
                                    <i class="fas fa-search text-primary"></i>
                                </button>
                            </div>
                            <div class="input-group-append">

                            </div>
                        </div>
                    </div>

                    <table class="table table-hover text-nowrap table-bordered" id="dataTable" style="width: 100%">
                        <thead class="bg-primary">
                            <tr>
                                <th width="5%">STT</th>
                                <th width="10%">Số Kế Hoạch</th>
                                <th width="10%">Ngày Lập Kế Hoạch</th>
                                <th width="40%">Nội Dung Kế Hoạch</th>
                                <th width="15%">Trạng Thái</th>
                                <th width="15%">Tiến Độ Hiện Tại</th>
                                <th width="5%"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="card-footer clearfix" style="height: 51px; width: 100%">
                        <ul class="pagination pagination-sm m-0 float-right">
                        </ul>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>

<div class="modal fade" id="add-sh">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" style=" width: 100%; text-align: center;">Nghiệp Vụ Xác Minh Tài Sản, Thu Nhập</h4>
                <button type="button" class="close closeform" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form cf">
                    <div class="wizard" style="border-bottom: 2px solid #564AF9;">
                        <div class="wizard-inner">
                            <div class="connecting-line" style="width:62% !important;top: 40% !important;margin-left: 16%;"></div>
                            <ul class="nav nav-tabs step_new" style="left:10%;right:10%;border-bottom:none; min-height: 180px;" role="tablist">
                                <li class="text-center" id="" role="presentation" data-tag="TD1" data-index="1">
                                    <p id="idTD1" class="Edit-TienDo">&nbsp;</p>
                                    <a href="#step1" id="step1" data-toggle="tab" aria-controls="step1" role="tab" class="nav-link">
                                        <span class="round-tab" title="Tiến độ 1">1</span>
                                    </a>
                                    <p id="label_1" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Ra quyết định <br /> xác minh tài sản,<br /> thu nhập</p>
                                </li>
                                <li class="text-center" role="presentation" data-tag="TD2" data-index="2">
                                    <p id="idTD2" class="Edit-TienDo">&nbsp;</p>
                                    <a class="nav-link">
                                        <span class="round-tab disa_step_new" title="Tiến độ 2">2</span>
                                    </a>
                                    <p id="label_2" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">
                                        Giải trình tài sản <br /> thu nhập
                                    </p>
                                </li>
                                <li class="text-center" role="presentation" data-tag="TD3" data-index="3">
                                    <p id="idTD3" class="Edit-TienDo">&nbsp;</p>
                                    <a href="#step3" data-toggle="tab" aria-controls="step3" role="tab" class="nav-link">
                                        <span class="round-tab" title="Tiến độ 3">3</span>
                                    </a>
                                    <p id="label_3" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">
                                        Tiến hành xác minh tài sản, thu nhập
                                    </p>
                                </li>
                                <li class="text-center" role="presentation" data-tag="TD4" data-index="4">
                                    <p id="idTD4" class="Edit-TienDo">&nbsp;</p>
                                    <a href="#step4" data-toggle="tab" aria-controls="step4" role="tab" class="nav-link">
                                        <span class="round-tab" title="Tiến độ 4">4</span>
                                    </a>
                                    <p id="label_4" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Báo cáo kết quả<br /> thanh tra</p>
                                </li>
                                <li class="text-center" role="presentation" data-tag="TD5" data-index="5">
                                    <p id="idTD5" class="Edit-TienDo">&nbsp;</p>
                                    <a href="#step5" data-toggle="tab" aria-controls="step5" role="tab" class="nav-link">
                                        <span class="round-tab" title="Tiến độ 5">5</span>
                                    </a>
                                    <p id="label_5" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Kết luận<br />thanh tra</p>
                                </li>
                                <li class="text-center" role="presentation" data-tag="TD6" data-index="6">
                                    <p id="idTD6" class="Edit-TienDo">&nbsp;</p>
                                    <a href="#step6" data-toggle="tab" aria-controls="step6" role="tab" class="nav-link">
                                        <span class="round-tab" title="Tiến độ 6">6</span>
                                    </a>
                                    <p id="label_6" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Công khai kết luận<br /> thanh tra</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="row" style="padding: 0 0 20px 0; min-height: 400px;" id="TienDo_Content">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="KHXM-sh">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Chi Tiết Kế Hoạch Xác Minh Tài Sản, Thu Nhập</h4>
                <button type="button" class="close closeform" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <input type="text" class="form-control" id="ID_DanhSachCanBo" name="ID_DanhSachCanBo" hidden value="">
                <div class="card-body row">

                    <div class="col-12 d-flex" style="margin-top: -20px; margin-bottom: 12px;">
                        <hr style="width: 20%" />
                        <span style="font-size: 17px;">Thông Tin Chung Kế Hoạch Xác Minh Tài Sản, Thu Nhập</span>
                        <hr style="width: 20%" />
                    </div>

                    <div class="col-4">
                        <div class="form-group">
                            <label for="cnsh">Số Kế Hoạch</label>
                            <input type="text" class="form-control" id="SoKeHoach_xct" name="SoKeHoach">
                        </div>
                    </div>

                    <div class="col-4">
                        <div class="form-group">
                            <label for="cnsh">Ngày Lập Kế Hoạch<span style="color: red"> *</span></label>
                            <input type="date" class="form-control" id="NgayLapKeHoach_xct" name="NgayLapKeHoach" step="1" min="0" value="@DateTime.Today.ToString("yyyy-MM-dd")">
                        </div>
                    </div>
                    <div class="col-4" style=" margin-top: -6px;">
                        <div class="form-group">
                            <label for="cnsh" class="col-sm-12 col-form-label">File Kế Hoạch</label>
                            <div id="DaDinhKem_xct"></div>
                        </div>
                    </div>

                    <div class="col-12">
                        <div class="form-group">
                            <label for="cnsh" class="col-sm-12 col-form-label">Nội Dung Kế Hoạch</label>
                            <textarea class="form-control" id="NoiDungKeHoach_xct" name="NoiDungKeHoach" rows="5"></textarea>
                        </div>
                    </div>

                    <div class="col-12 d-flex" style="margin-bottom: 12px;">
                        <hr style="width: 20%" />
                        <span style="font-size: 17px;">Thông Tin Chung Chi Tiết Kế Hoạch Xác Minh Tài Sản, Thu Nhập</span>
                        <hr style="width: 20%" />
                    </div>

                    <div class="col-12">
                        <div class="card elevation-2" style="padding: 10px;">
                            <div class="p-2" style="width: 100%; font-size: 16px;" id="downloadDSCBXM">
                                Danh Sách Các Đơn Vị Thuộc Thẩm Quyền Kiểm Soát Của Thanh Tra Tỉnh (Ngẫu Nhiên 20%)
                            </div>
                            <table class="table table-hover text-nowrap table-bordered" id="dataTable_DSCQ1" style="width: 100%">
                                <thead class="bg-primary">
                                    <tr>
                                        <th style="width: 3%">STT</th>
                                        <th style="width: 40%">Tên Loại Cơ Quan</th>
                                        <th style="width: 42%">Tên Cơ Quan Đơn Vị</th>
                                        <th style="width: 15%">Số Lượng Xác Minh</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            <div class="card-footer clearfix" style="height: 51px; width: 100%">
                                <ul class="pagination pagination-sm m-0 float-right">
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-12">
                        <div class="card elevation-2" style="padding: 10px;">
                            <div class="p-2" style="width: 100%; font-size: 16px;" id="downloadDSCBXM">
                                Danh Sách Cán Bộ Được Xác Minh Từ Danh Sách Cơ Quan Trên (Ngẫu Nhiên 10%)
                            </div>
                            <div class="card-tools">
                                <div class="input-group input-group-sm row">
                                    <input type="text" name="table_search" class="form-control float-right mr-1" placeholder="Tìm..." id="Filter1">
                                    <div class="input-group-append mr-3">
                                        <button type="submit" class="btn btn-default" id="search_btn1">
                                            <i class="fas fa-search text-primary"></i>
                                        </button>
                                    </div>
                                    <div class="input-group-append">

                                    </div>
                                </div>
                            </div>
                            <table class="table table-hover text-nowrap table-bordered" id="dataTable_DSCQ2" style="width: 100%">
                                <thead class="bg-primary">
                                    <tr>
                                        <th style="width: 5%">STT</th>
                                        <th style="width: 35%">Họ Tên Cán Bộ</th>
                                        <th style="width: 40%">Cơ Quan Đơn Vị</th>
                                        <th style="width: 15%">Chức Vụ, Chức Danh</th>
                                        <th style="width: 5%"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            <div class="card-footer clearfix" style="height: 51px; width: 100%">
                                <ul class="pagination pagination-sm m-0 float-right">
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger closeform" data-dismiss="modal" style="width: 105px">
                        Đóng
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var dt;
    var dt1,dt2, dt3, dt4, dt5, dt6, dt7;
    var TienDoHienTai = 0;
    var ID_KeHoach = 0;
    function loadDataTable() {
        dt = $("#dataTable").DataTable({
            "lengthChange": false,
            "info": false,
            "searching": true,
            "language": {
                "search": "",
                "info": "Tổng số _TOTAL_ hàng",
                "infoEmpty": "",
                "infoFiltered": "",
                "paginate": {
                    "next": "»",
                    "previous": "«"
                },
                "processing": `Đang tải dữ liệu`,
                searchPlaceholder: "Tìm...",
                zeroRecords: "Không tìm thấy kết quả",

            },
            dom: 'Bfrtip',
            buttons: [
                {
                    text: '<i class="fa fa-file-excel"></i>',
                    extend: 'excel',
                    className: 'btn btn-outline-primary btn-sm mt-2 ml-3'
                },
                {
                    text: '<i class="fa fa-file-pdf"></i>',
                    extend: 'pdf',
                    className: 'btn btn-outline-primary btn-sm mt-2'
                },
                {
                    text: '<i class="fa fa-print"></i>',
                    extend: 'print',
                    className: 'btn btn-outline-primary btn-sm mt-2'
                }
            ],

            "serverSide": true,
            "processing": true,
            "ajax": {
                "url": "/NV_XacMinhTaiSanThuNhap/LoadDataKeHoachXacMinh",
                "type": "POST",
                "datatype": "json"
            },
            "columnDefs": [
                { className: "cn", "targets": [6] }
            ],
            "columns": [
                { "data": "SoKeHoach" },
                { "data": "SoKeHoach" },
                {
                    "data": "NgayLapKeHoach", "render": function (data, type, row) {
                        var pattern = /Date\(([^)]+)\)/;
                        var results = pattern.exec(data);
                        var dt = new Date(parseFloat(results[1]));
                        return moment(dt).format("DD/MM/YYYY")
                    }
                },
                { "data": "NoiDungKeHoach" },
                {
                    "data": { "TienDo": "TienDo", "TrangThai": "TrangThai" }, "render": function (data, type, row) {
                        if (data.TienDo == 0 && data.TrangThai == false) {
                            return `<span class="badge badge-danger">Chưa Ra Quyết Định Xác Minh</span>`
                        }
                        else if (data.TienDo != 0 && data.TrangThai == false) {
                            return `<span class="badge badge-warning">Đang Tiến Hành</span>`
                        }
                        else {
                            return `<span class="badge badge-success">Đã Hoàn Thành</span>`
                        } 
                    }
                },
                {
                    "data": { "TienDo": "TienDo"}, "render": function (data, type, row) {
                        if (data.TienDo == 0) {
                            return `<span>Chưa Phát Sinh Tiến Độ</span>`
                        }
                        else if (data.TienDo == 1) {
                            return `<span>Ra Quyết Định Xác Minh Tài Sản, Thu Nhập</span>`
                        }
                        else if (data.TienDo == 2) {
                            return `<span>Giải Trình Tài Sản, Thu Nhập</span>`
                        }
                        else if (data.TienDo == 3) {
                            return `<span>Tiến Hành Xác Minh, Tài Sản Thu Nhập</span>`
                        }
                        else if (data.TienDo == 4) {
                            return `<span>Báo Cáo Kết Quả Xác Minh Tài Sản, Thu Nhập</span>`
                        }
                        else if (data.TienDo == 5) {
                            return `<span>Kết Luận Xác Minh Tài Sản, Thu Nhập</span>`
                        }
                        else if (data.TienDo == 6) {
                            return `<span>Gửi Và Công Khai Kết Luận Xác Minh Tài Sản, Thu Nhập</span>`
                        }
                        else{
                            return `<span>Đã Hoàn Thành</span>`
                        }
                    }
                },
                {
                    "data": { "FileKeHoach": "FileKeHoach", "FileDanhSach": "FileDanhSach" ,"TienDo": "TienDo", "ID_KeHoach":"ID_KeHoach", "ID_DanhSachCanBo":"ID_DanhSachCanBo" }, "render": function (data, type, row) {
                        return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileKeHoach}" target="_blank" >
                                            File Kế Hoạch
                                        </a> 
                                        <a class="dropdown-item" href="/content/uploads/${data.FileDanhSach}" target="_blank" >
                                            File Danh Sách Cán Bộ Được Xác Minh
                                        </a>
                                         <a class="dropdown-item" data-model-id="${data.ID_DanhSachCanBo}" onclick="XemChiTiet(this)" data-toggle="modal" data-target="#KHXM-sh">
                                            Xem Chi Tiết Kế Hoạch
                                        </a>
                                        <a class="dropdown-item" data-toggle="modal" data-target="#add-sh" data-model-id="${data.ID_KeHoach}" onclick="XacMinhTaiSan(this)">
                                            Tiến Hành Xác Minh
                                        </a>  
                                      </div>
                                    </div>`
                    }
                },
            ]
        });
        dt.on('draw.dt', function () {
            var info = dt.page.info();
            dt.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                cell.innerHTML = i + 1 + info.start;
            });
        });

    }
    function XacMinhTaiSan(obj) {
        var ele = $(obj);
        ID_KeHoach = ele.data("model-id");
        $.get("/NV_XacMinhTaiSanThuNhap/GetTienDo", { ID_KeHoach: ID_KeHoach }, (data) => {

            var SoNgay = 0;

            if (data.NgayHoanThanhTienDoTruoc != null) {
                var a = moment(data.NgayHoanThanhTienDoTruoc);
                var b = moment().add(data.ThoiGianHoanThanhTienDo, 'd');;
                SoNgay = b.diff(a, 'days');
            }
          
            LoadLayoutTienDo(data.TienDoHienTai, SoNgay)
            LoadBodyTienDo(data.TienDoHienTai, data.CheckRaQuyetDinh)

            if (data.TienDoHienTai == 7) {
                LoadBodyTienDoDaHoanThanh(6)
            }
            
        }) 
    };
    function ResetRoundTab(tiendo) {
        $('.round-tab').css({ 'border': '1px solid #054fd2' })
        $('.disa_step_new').css({ 'border': '1px solid #cddbf5' })

        if (tiendo == 0 || tiendo == 1) {
            
        }
        else if (tiendo <= 2) {
            $('#round-tab-1').css({ 'border': '1px solid rgb(51, 177, 20)' })
        }
        else if (tiendo <= 3) {
            $('#round-tab-1').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-2').css({ 'border': '1px solid rgb(51, 177, 20)' })
        }
        else if (tiendo <= 4) {
            $('#round-tab-1').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-2').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-3').css({ 'border': '1px solid rgb(51, 177, 20)' })
        }
        else if (tiendo <= 5) {
            $('#round-tab-1').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-2').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-3').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-4').css({ 'border': '1px solid rgb(51, 177, 20)' })
        }
        else if (tiendo <= 6) {
            $('#round-tab-1').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-2').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-3').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-4').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-5').css({ 'border': '1px solid rgb(51, 177, 20)' })
        }
        else if (tiendo <= 7) {
            $('#round-tab-1').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-2').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-3').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-4').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-5').css({ 'border': '1px solid rgb(51, 177, 20)' })
            $('#round-tab-6').css({ 'border': '1px solid rgb(51, 177, 20)' })
        }
    }
    function LoadBodyTienDo(tiendo, SoLuong) {  
        $('#TienDo_Content').empty();
        var row = ``
        if ((tiendo == 0 || tiendo == 1) && SoLuong == 0) {
            row = `<form action="/NV_XacMinhTaiSanThuNhap/LuuDuLieuRaQuyetDinhXacMinh" class="NV_Create_RaQuyetDinhXacMinh form-horizontal row justify-content-end" data-ajax="true" data-ajax-begin="FnBegin_RaQuyetDinh" data-ajax-failure="Failure_RaQuyetDinh" data-ajax-method="POST" data-ajax-success="FnSuccess_RaQuyetDinh" enctype="multipart/form-data" id="form0" method="post" novalidate="novalidate">
                       
                        <div class="col-6" style="margin-top: 11px; text-align: right;">
                            <svg class="d-none" id="loading_raquyetdinh" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: #fff0; display: block; width: 48px; position: absolute; top: -7px; rigth: 215px;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                                                        <circle cx="75" cy="50" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.9090909090909091s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.9090909090909091s"></animate>
                                                        </circle>
                                                        <circle cx="71.03133832077953" cy="63.51602043638994" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.8181818181818182s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.8181818181818182s"></animate>
                                                        </circle>
                                                        <circle cx="60.385375325047164" cy="72.74079988386296" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.7272727272727273s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.7272727272727273s"></animate>
                                                        </circle>
                                                        <circle cx="46.442129043167874" cy="74.74553604702332" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.6363636363636364s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.6363636363636364s"></animate>
                                                        </circle>
                                                        <circle cx="33.62848165136788" cy="68.89373935885646" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.5454545454545454s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.5454545454545454s"></animate>
                                                        </circle>
                                                        <circle cx="26.012675659637566" cy="57.04331392103574" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.45454545454545453s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.45454545454545453s"></animate>
                                                        </circle>
                                                        <circle cx="26.012675659637562" cy="42.95668607896427" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.36363636363636365s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.36363636363636365s"></animate>
                                                        </circle>
                                                        <circle cx="33.62848165136787" cy="31.106260641143546" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.2727272727272727s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.2727272727272727s"></animate>
                                                        </circle>
                                                        <circle cx="46.44212904316787" cy="25.254463952976682" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.18181818181818182s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.18181818181818182s"></animate>
                                                        </circle>
                                                        <circle cx="60.38537532504715" cy="27.259200116137038" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.09090909090909091s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.09090909090909091s"></animate>
                                                        </circle>
                                                        <circle cx="71.03133832077953" cy="36.48397956361006" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="0s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="0s"></animate>
                                                        </circle>
                                                    </svg>
                            <button type="submit" style="margin-bottom: 15px;" title="Thêm Mới" class="btn btn-primary btn-primary-Edit" id="btn_save">Lưu Dữ Liệu</button>
                            <button type="button" style="margin-bottom: 15px;" class="btn btn-primary" id="btn_success" data-model-id="1" onclick="HoanThanh(this)">Hoàn Thành</button>
                        </div>

                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-12 d-flex">
                                            <hr style="width: 30%">
                                            <span style="font-size: 17px;">Căn Cứ Xác Minh Tài Sản, Thu Nhập</span>
                                            <hr style="width: 30%">
                                        </div>

                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Số Văn Bản<span style="color: red">*</span></label>
                                                <input type="text" class="form-control" placeholder="nhập số văn bản" id="SoVanBan" name="SoVanBan">
                                                <input type="text" class="form-control" hidden id="ID_RaQuyetDinhXacMinh" name="ID_RaQuyetDinhXacMinh" value="0">
                                                <input type="text" class="form-control" hidden id="ID_KeHoachXacMinh" name="ID_KeHoachXacMinh" value="${ID_KeHoach}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Ngày Lập Văn Bản<span style="color: red">*</span></label>
                                                <input type="date" class="form-control" id="NgayLapVanBan" name="NgayLapVanBan">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>File Văn Bản<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileVanBan" name="FileVanBan" style="height: auto; ">
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label>Nội Dung Văn Bản<span style="color: red">*</span></label>
                                                <textarea class="form-control" rows="5" id="NoiDungVanBan" name="NoiDungVanBan"></textarea>
                                            </div>
                                        </div>

                                        <div class="col-12 d-flex" style="margin-top: 20px;">
                                            <hr style="width: 30%">
                                            <span style="font-size: 17px;">Quyết Định Xác Minh, Tài Sản Thu Nhập</span>
                                            <hr style="width: 30%">
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Số Quyết Định<span style="color: red">*</span></label>
                                                <input type="text" class="form-control" placeholder="nhập số quyết định" id="SoQuyetDinh" name="SoQuyetDinh">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Ngày Lập Quyết Định<span style="color: red">*</span></label>
                                                <input type="date" class="form-control" id="NgayQuyetDinh" name="NgayQuyetDinh">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Căn Cứ Ban Hành Quyết Định Xác Minh<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="CanCuBanHanhQuyetDinhXacMinh" name="CanCuBanHanhQuyetDinhXacMinh" style="height: auto; ">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Họ, Tên, Chức Vụ, Nơi Công Tác Của Tổ Trưởng Và Thành Viên Tổ Xác Minh Tài Sản, Thu Nhập<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileToXacMinh" name="FileToXacMinh" style="height: auto; ">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Họ, Tên, Chức Vụ, Nơi Công Tác Của Người Được Xác Minh Tài Sản, Thu Nhập<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileDanhSachCanBoXacMinh" name="FileDanhSachCanBoXacMinh" style="height: auto; ">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Nhiệm Vụ, Quyền Hạn Của Tổ Trưởng Và Thành Viên Tổ Xác Minh Tài Sản, Thu Nhập<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileNhiemVuQuyenHan" name="FileNhiemVuQuyenHan" style="height: auto; ">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Các Cơ Quan, Tổ Chức, Đơn Vị, Cá Nhân Phối Hợp (nếu có)</label>
                                                <input class="form-control" type="file" id="FileCoQuanToChucPhoiHop" name="FileCoQuanToChucPhoiHop" style="height: auto; ">
                                            </div>
                                        </div>

                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Thời Hạn Xác Minh (ngày)<span style="color: red">*</span></label>
                                                <input class="form-control" type="number" min="1" id="ThoiHanXacMinh" name="ThoiHanXacMinh" style="height: auto; ">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>File Quyết Định<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileQuyetDinh" name="FileQuyetDinh" style="height: auto; ">
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label>Nội Dung Xác Minh<span style="color: red">*</span></label>
                                                <textarea class="form-control" rows="5" id="NoiDungXacMinh" name="NoiDungXacMinh"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>`

            $('#TienDo_Content').append(row)

            $(".NV_Create_RaQuyetDinhXacMinh").validate({
                onfocusout: function (element) {
                    $(element).valid();
                },
                invalidHandler: function (form, validator) {
                    validator.focusInvalid();
                    Swal.fire({
                        icon: 'error',
                        title: 'Xuất hiện lỗi',
                        text: `Vui lòng kiểm tra thông báo lỗi`,
                        timer: 2000,
                        showConfirmButton: false
                    })

                },
                errorClass: "is-invalid",
                validClass: "is-valid",

                rules: {
                    SoVanBan: {
                        required: true,
                    },
                    NgayLapVanBan: {
                        required: true,
                    },
                    FileVanBan: {
                        required: true,
                    },
                    NoiDungVanBan: {
                        required: true,
                    },
                    SoQuyetDinh: {
                        required: true,
                    },
                    NgayQuyetDinh: {
                        required: true,
                    },
                    CanCuBanHanhQuyetDinhXacMinh: {
                        required: true,
                    },
                    FileToXacMinh: {
                        required: true,
                    },
                    FileDanhSachCanBoXacMinh: {
                        required: true,
                    },
                    FileNhiemVuQuyenHan: {
                        required: true,
                    },

                    ThoiHanXacMinh: {
                        required: true,
                    },
                    FileQuyetDinh: {
                        required: true,
                    },
                    NoiDungXacMinh: {
                        required: true,
                    },
                },
                messages: {
                    SoVanBan: {
                        required: "Số Văn Bản Không Được Để Trống",
                    },
                    NgayLapVanBan: {
                        required: "Ngày Lập Văn Bản Không Được Để Trống",
                    },
                    FileVanBan: {
                        required: "File Văn Bản Chưa Được Đính Kèm",
                    },
                    NoiDungVanBan: {
                        required: "Nội Dung Văn Bản Không Được Để Trống",
                    },
                    SoQuyetDinh: {
                        required: "Số Quyết Định Không Được Để Trống",
                    },
                    NgayQuyetDinh: {
                        required: "Ngày Quyết Định Không Được Để Trống",
                    },
                    CanCuBanHanhQuyetDinhXacMinh: {
                        required: "Căn Cứ Ban Hành Quyết Định Xác Minh Chưa Được Đính Kèm",
                    },
                    FileToXacMinh: {
                        required: "File Tổ Xác Minh Chưa Được Đính Kèm",
                    },
                    FileDanhSachCanBoXacMinh: {
                        required: "File Danh Sách Cán Bộ Được Xác Minh Chưa Được Đính Kèm",
                    },
                    FileNhiemVuQuyenHan: {
                        required: "File Nhiệm Vụ, Quyền Hạn Chưa Được Đính Kèm",
                    },

                    ThoiHanXacMinh: {
                        required: "Thời Hạn Xác Minh Không Được Để Trống",
                    },
                    FileQuyetDinh: {
                        required: "File Quyết Định Chưa Được Đính Kèm",
                    },
                    NoiDungXacMinh: {
                        required: "Nội Dung Xác Minh Không Được Để Trống",
                    },
                }

            });
        }
        else if ((tiendo == 0 || tiendo == 1) && SoLuong != 0) {
            $.get("/NV_XacMinhTaiSanThuNhap/GetRaQuyetDinhXacMinh", { ID_KeHoach: ID_KeHoach }, (data) => {
                row = `<form action="/NV_XacMinhTaiSanThuNhap/LuuDuLieuRaQuyetDinhXacMinh" class="NV_Create_RaQuyetDinhXacMinh form-horizontal row justify-content-end" data-ajax="true" data-ajax-begin="FnBegin_RaQuyetDinh" data-ajax-failure="Failure_RaQuyetDinh" data-ajax-method="POST" data-ajax-success="FnSuccess_RaQuyetDinh" enctype="multipart/form-data" id="form0" method="post" novalidate="novalidate">
                        <div class="col-6" style="margin-top: 11px; text-align: right;">
                             <svg class="d-none" id="loading_raquyetdinh" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: #fff0; display: block; width: 48px; position: absolute; top: -10px; left: -37px;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                                                        <circle cx="75" cy="50" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.9090909090909091s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.9090909090909091s"></animate>
                                                        </circle>
                                                        <circle cx="71.03133832077953" cy="63.51602043638994" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.8181818181818182s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.8181818181818182s"></animate>
                                                        </circle>
                                                        <circle cx="60.385375325047164" cy="72.74079988386296" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.7272727272727273s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.7272727272727273s"></animate>
                                                        </circle>
                                                        <circle cx="46.442129043167874" cy="74.74553604702332" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.6363636363636364s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.6363636363636364s"></animate>
                                                        </circle>
                                                        <circle cx="33.62848165136788" cy="68.89373935885646" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.5454545454545454s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.5454545454545454s"></animate>
                                                        </circle>
                                                        <circle cx="26.012675659637566" cy="57.04331392103574" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.45454545454545453s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.45454545454545453s"></animate>
                                                        </circle>
                                                        <circle cx="26.012675659637562" cy="42.95668607896427" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.36363636363636365s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.36363636363636365s"></animate>
                                                        </circle>
                                                        <circle cx="33.62848165136787" cy="31.106260641143546" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.2727272727272727s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.2727272727272727s"></animate>
                                                        </circle>
                                                        <circle cx="46.44212904316787" cy="25.254463952976682" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.18181818181818182s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.18181818181818182s"></animate>
                                                        </circle>
                                                        <circle cx="60.38537532504715" cy="27.259200116137038" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.09090909090909091s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.09090909090909091s"></animate>
                                                        </circle>
                                                        <circle cx="71.03133832077953" cy="36.48397956361006" fill="#93e6d6" r="5">
                                                            <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="0s"></animate>
                                                            <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="0s"></animate>
                                                        </circle>
                                                    </svg>
                            <button type="submit" style="margin-bottom: 15px;" title="Thêm Mới" class="btn btn-primary btn-primary-Edit" id="btn_save">Cập Nhật Dữ Liệu</button>
                            <button type="button" style="margin-bottom: 15px;" class="btn btn-primary" id="btn_success" data-model-id="1" onclick="HoanThanh(this)">Hoàn Thành</button>
                        </div>
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-12 d-flex">
                                            <hr style="width: 30%">
                                            <span style="font-size: 17px;">Căn Cứ Xác Minh Tài Sản, Thu Nhập</span>
                                            <hr style="width: 30%">
                                        </div>

                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Số Văn Bản<span style="color: red">*</span></label>
                                                <input type="text" class="form-control" placeholder="nhập số văn bản" id="SoVanBan" name="SoVanBan" value="${data.SoVanBan}">
                                                <input type="text" class="form-control" hidden id="ID_RaQuyetDinhXacMinh" name="ID_RaQuyetDinhXacMinh" value="${data.ID_RaQuyetDinhXacMinh}">
                                                <input type="text" class="form-control" hidden id="ID_KeHoachXacMinh" name="ID_KeHoachXacMinh" value="${ID_KeHoach}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Ngày Lập Văn Bản<span style="color: red">*</span></label>
                                                <input type="date" class="form-control" id="NgayLapVanBan" name="NgayLapVanBan" value="${moment(data.NgayLapVanBan).format("YYYY-MM-DD")}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>File Văn Bản<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileVanBan" name="FileVanBan" style="height: auto;">
                                                <a href="/Content/Uploads/${data.FileVanBan}" target="_blank">${data.FileVanBan}</a>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label>Nội Dung Văn Bản<span style="color: red">*</span></label>
                                                <textarea class="form-control" rows="5" id="NoiDungVanBan" name="NoiDungVanBan">${data.NoiDungVanBan}</textarea>
                                            </div>
                                        </div>

                                        <div class="col-12 d-flex" style="margin-top: 20px;">
                                            <hr style="width: 30%">
                                            <span style="font-size: 17px;">Quyết Định Xác Minh, Tài Sản Thu Nhập</span>
                                            <hr style="width: 30%">
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Số Quyết Định<span style="color: red">*</span></label>
                                                <input type="text" class="form-control" placeholder="nhập số quyết định" id="SoQuyetDinh" name="SoQuyetDinh" value="${data.SoQuyetDinh}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Ngày Lập Quyết Định<span style="color: red">*</span></label>
                                                <input type="date" class="form-control" id="NgayQuyetDinh" name="NgayQuyetDinh" value="${moment(data.NgayQuyetDinh).format("YYYY-MM-DD")}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Căn Cứ Ban Hành Quyết Định Xác Minh<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="CanCuBanHanhQuyetDinhXacMinh" name="CanCuBanHanhQuyetDinhXacMinh" style="height: auto; ">
                                                <a href="/Content/Uploads/${data.CanCuBanHanhQuyetDinhXacMinh}" target="_blank">${data.CanCuBanHanhQuyetDinhXacMinh}</a>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Tổ Xác Minh<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileToXacMinh" name="FileToXacMinh" style="height: auto; ">
                                                 <a href="/Content/Uploads/${data.FileToXacMinh}" target="_blank">${data.FileToXacMinh}</a>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Danh Sách Cán Bộ Xác Minh<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileDanhSachCanBoXacMinh" name="FileDanhSachCanBoXacMinh" style="height: auto; ">
                                                <a href="/Content/Uploads/${data.FileDanhSachCanBoXacMinh}" target="_blank">${data.FileDanhSachCanBoXacMinh}</a>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Nhiệm Vụ, Quyền Hạn<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileNhiemVuQuyenHan" name="FileNhiemVuQuyenHan" style="height: auto; ">
                                                <a href="/Content/Uploads/${data.FileNhiemVuQuyenHan}" target="_blank">${data.FileNhiemVuQuyenHan}</a>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Cơ Quan, Phối Hợp (nếu có)</label>
                                                <input class="form-control" type="file" id="FileCoQuanToChucPhoiHop" name="FileCoQuanToChucPhoiHop" style="height: auto; ">
                                                <a href="/Content/Uploads/${data.FileCoQuanToChucPhoiHop}" target="_blank">${data.FileCoQuanToChucPhoiHop}</a>
                                            </div>
                                        </div>

                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Thời Hạn Xác Minh (ngày)<span style="color: red">*</span></label>
                                                <input class="form-control" type="number" min="1" id="ThoiHanXacMinh" name="ThoiHanXacMinh" style="height: auto;" value="${data.ThoiHanXacMinh}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>File Quyết Định<span style="color: red">*</span></label>
                                                <input class="form-control" type="file" id="FileQuyetDinh" name="FileQuyetDinh" style="height: auto;">
                                                <a href="/Content/Uploads/${data.FileQuyetDinh}" target="_blank">${data.FileQuyetDinh}</a>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label>Nội Dung Xác Minh<span style="color: red">*</span></label>
                                                <textarea class="form-control" rows="5" id="NoiDungXacMinh" name="NoiDungXacMinh">${data.NoiDungXacMinh}</textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>`
                $('#TienDo_Content').append(row)

                $(".NV_Create_RaQuyetDinhXacMinh").validate({
                    onfocusout: function (element) {
                        $(element).valid();
                    },
                    invalidHandler: function (form, validator) {
                        validator.focusInvalid();
                        Swal.fire({
                            icon: 'error',
                            title: 'Xuất hiện lỗi',
                            text: `Vui lòng kiểm tra thông báo lỗi`,
                            timer: 2000,
                            showConfirmButton: false
                        })

                    },
                    errorClass: "is-invalid",
                    validClass: "is-valid",

                    rules: {
                        SoVanBan: {
                            required: true,
                        },
                        NgayLapVanBan: {
                            required: true,
                        },
                        NoiDungVanBan: {
                            required: true,
                        },
                        SoQuyetDinh: {
                            required: true,
                        },
                        NgayQuyetDinh: {
                            required: true,
                        },
                        ThoiHanXacMinh: {
                            required: true,
                        },
                        NoiDungXacMinh: {
                            required: true,
                        },
                    },
                    messages: {
                        SoVanBan: {
                            required: "Số Văn Bản Không Được Để Trống",
                        },
                        NgayLapVanBan: {
                            required: "Ngày Lập Văn Bản Không Được Để Trống",
                        },
                        NoiDungVanBan: {
                            required: "Nội Dung Văn Bản Không Được Để Trống",
                        },
                        SoQuyetDinh: {
                            required: "Số Quyết Định Không Được Để Trống",
                        },
                        NgayQuyetDinh: {
                            required: "Ngày Quyết Định Không Được Để Trống",
                        },
                        ThoiHanXacMinh: {
                            required: "Thời Hạn Xác Minh Không Được Để Trống",
                        },
                        NoiDungXacMinh: {
                            required: "Nội Dung Xác Minh Không Được Để Trống",
                        },
                    }

                });
            })
        }
        else if (tiendo == 2) {
            row = `<form action="/NV_XacMinhTaiSanThuNhap/LuuDuLieuGiaiTrinh" class="NV_Create_GiaiTrinh form-horizontal row justify-content-end" data-ajax="true" data-ajax-begin="FnBegin_GiaiTrinh" data-ajax-failure="Failure_GiaiTrinh" data-ajax-method="POST" data-ajax-success="FnSuccess_GiaiTrinh" enctype="multipart/form-data" id="form0" method="post" novalidate="novalidate">
                    <div class="col-6" style="margin-top: 11px; text-align: right;">
                        <svg class="d-none" id="loading_giaitrinh" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: #fff0; display: block; width: 48px; position: absolute; top: -7px; rigth: 215px;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                            <circle cx="75" cy="50" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.9090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.9090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="63.51602043638994" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.8181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.8181818181818182s"></animate>
                            </circle>
                            <circle cx="60.385375325047164" cy="72.74079988386296" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.7272727272727273s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.7272727272727273s"></animate>
                            </circle>
                            <circle cx="46.442129043167874" cy="74.74553604702332" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.6363636363636364s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.6363636363636364s"></animate>
                            </circle>
                            <circle cx="33.62848165136788" cy="68.89373935885646" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.5454545454545454s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.5454545454545454s"></animate>
                            </circle>
                            <circle cx="26.012675659637566" cy="57.04331392103574" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.45454545454545453s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.45454545454545453s"></animate>
                            </circle>
                            <circle cx="26.012675659637562" cy="42.95668607896427" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.36363636363636365s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.36363636363636365s"></animate>
                            </circle>
                            <circle cx="33.62848165136787" cy="31.106260641143546" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.2727272727272727s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.2727272727272727s"></animate>
                            </circle>
                            <circle cx="46.44212904316787" cy="25.254463952976682" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.18181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.18181818181818182s"></animate>
                            </circle>
                            <circle cx="60.38537532504715" cy="27.259200116137038" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.09090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.09090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="36.48397956361006" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="0s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="0s"></animate>
                            </circle>
                        </svg>
                        <button type="submit" style="margin-bottom: 15px;" title="Thêm Mới" class="btn btn-primary btn-primary-Edit" id="btn_save">Lưu Dữ Liệu</button>
                        <button type="button" style="margin-bottom: 15px;" class="btn btn-primary" id="btn_success" data-model-id="2" onclick="HoanThanh(this)">Hoàn Thành</button>
                    </div>

                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-12 d-flex">
                                        <hr style="width: 30%">
                                        <span style="font-size: 17px;">Biên Bản Làm Việc</span>
                                        <hr style="width: 30%">
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>Ngày Lập Biên Bản<span style="color: red">*</span></label>
                                            <input type="date" class="form-control" placeholder="nhập số văn bản" id="NgayLapBienBan" name="NgayLapBienBan">
                                            <input type="text" class="form-control" hidden id="ID_GiaiTrinhTaiSanThuNhap" name="ID_GiaiTrinhTaiSanThuNhap" value="0">
                                            <input type="text" class="form-control" hidden id="ID_KeHoachXacMinh" name="ID_KeHoachXacMinh" value="${ID_KeHoach}">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>Tên Người Được Xác Minh<span style="color: red">*</span></label>
                                            <input type="text" class="form-control" id="TenNguoiDuocXacMinh" name="TenNguoiDuocXacMinh">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>File Biên Bản<span style="color: red">*</span></label>
                                            <input class="form-control" type="file" id="FileBienBan" name="FileBienBan" style="height: auto;">
                                            <span id="DuLieuFileBienBan"></span>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label>Nội Dung Biên Bản<span style="color: red">*</span></label>
                                            <textarea class="form-control" rows="5" id="NoiDungBienBan" name="NoiDungBienBan"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="col-12">
                <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                    <div class="card-tools">
                        <div class="input-group input-group-sm" style="width: 200px;">
                            <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_GiaiTrinh">

                            <div class="input-group-append mr-3">
                                <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_giaitrinh()">
                                    <i class="fas fa-search text-primary"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover text-nowrap table-bordered" id="dataTable_giaitrinh" style="width: 100%;">
                        <thead class="bg-primary">
                            <tr>
                                <th style="width: 2%;">STT</th>
                                <th style="width: 10%">Ngày Lập Biên Bản</th>
                                <th style="width: 15%">Tên Người Được Xác Minh</th>
                                <th style="width: 65%">Nội Dung Biên Bản</th>
                                <th style="width: 2%"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="card-footer clearfix" style="height: 51px; width: 100%">
                        <ul class="pagination pagination-sm m-0 float-right">
                        </ul>
                    </div>
                </div>
            </div>`

            $('#TienDo_Content').append(row)

            $(".NV_Create_GiaiTrinh").validate({
                onfocusout: function (element) {
                    $(element).valid();
                },
                invalidHandler: function (form, validator) {
                    validator.focusInvalid();
                    Swal.fire({
                        icon: 'error',
                        title: 'Xuất hiện lỗi',
                        text: `Vui lòng kiểm tra thông báo lỗi`,
                        timer: 2000,
                        showConfirmButton: false
                    })

                },
                errorClass: "is-invalid",
                validClass: "is-valid",

                rules: {
                    NgayLapBienBan: {
                        required: true,
                    },
                    TenNguoiDuocXacMinh: {
                        required: true,
                    },
                    NoiDungBienBan: {
                        required: true,
                    },
                    FileBienBan: {
                        required: true,
                    },
                },
                messages: {
                    NgayLapBienBan: {
                        required: "Ngày Lập Biên Bản Không Được Để Trống",
                    },
                    TenNguoiDuocXacMinh: {
                        required: "Tên Người Được Xác Minh Không Được Để Trống",
                    },
                    NoiDungBienBan: {
                        required: "Nội Dung Biển Bản Không Được Để Trống",
                    },
                    FileBienBan: {
                        required: "File Biên Bản Chưa Được Đính Kèm",
                    },
                }

            });

            dt1 = $("#dataTable_giaitrinh").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataGiaiTrinh/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [4] }
                ],
                "columns": [
                    { "data": "ID_GiaiTrinhTaiSanThuNhap" },
                    {
                        "data": "NgayLapBienBan", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },
                    { "data": "TenNguoiDuocXacMinh" },
                    { "data": "NoiDungBienBan" },
                    {
                        "data": { "ID_GiaiTrinhTaiSanThuNhap": "ID_GiaiTrinhTaiSanThuNhap", "FileBienBan": "FileBienBan" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileBienBan}" target="_blank" >
                                            File Biên Bản
                                        </a> 
                                        <a class="dropdown-item"  data-model-id="${data.ID_GiaiTrinhTaiSanThuNhap}" onclick="Edit_GiaiTrinh(this)">
                                            Cập Nhật Dữ Liệu
                                        </a>  
                                        <a class="dropdown-item"  data-model-id="${data.ID_GiaiTrinhTaiSanThuNhap}" onclick="Delete_GiaiTrinh(this)">
                                            Xóa Dữ Liệu
                                        </a>  
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt1.on('draw.dt', function () {
                var info = dt.page.info();
                dt1.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
        else if (tiendo == 3) {
            row = `<form action="/NV_XacMinhTaiSanThuNhap/LuuDuLieuXacMinh" class="NV_Create_XacMinh form-horizontal row justify-content-end" data-ajax="true" data-ajax-begin="FnBegin_XacMinh" data-ajax-failure="Failure_XacMinh" data-ajax-method="POST" data-ajax-success="FnSuccess_XacMinh" enctype="multipart/form-data" id="form0" method="post" novalidate="novalidate">
                    <div class="col-6" style="margin-top: 11px; text-align: right;">
                        <svg class="d-none" id="loading_xacminh" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: #fff0; display: block; width: 48px; position: absolute; top: -7px; rigth: 215px;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                            <circle cx="75" cy="50" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.9090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.9090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="63.51602043638994" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.8181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.8181818181818182s"></animate>
                            </circle>
                            <circle cx="60.385375325047164" cy="72.74079988386296" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.7272727272727273s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.7272727272727273s"></animate>
                            </circle>
                            <circle cx="46.442129043167874" cy="74.74553604702332" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.6363636363636364s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.6363636363636364s"></animate>
                            </circle>
                            <circle cx="33.62848165136788" cy="68.89373935885646" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.5454545454545454s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.5454545454545454s"></animate>
                            </circle>
                            <circle cx="26.012675659637566" cy="57.04331392103574" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.45454545454545453s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.45454545454545453s"></animate>
                            </circle>
                            <circle cx="26.012675659637562" cy="42.95668607896427" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.36363636363636365s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.36363636363636365s"></animate>
                            </circle>
                            <circle cx="33.62848165136787" cy="31.106260641143546" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.2727272727272727s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.2727272727272727s"></animate>
                            </circle>
                            <circle cx="46.44212904316787" cy="25.254463952976682" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.18181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.18181818181818182s"></animate>
                            </circle>
                            <circle cx="60.38537532504715" cy="27.259200116137038" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.09090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.09090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="36.48397956361006" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="0s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="0s"></animate>
                            </circle>
                        </svg>
                        <button type="submit" style="margin-bottom: 15px;" title="Thêm Mới" class="btn btn-primary btn-primary-Edit" id="btn_save">Lưu Dữ Liệu</button>
                        <button type="button" style="margin-bottom: 15px;" class="btn btn-primary" id="btn_success" data-model-id="3" onclick="HoanThanh(this)">Hoàn Thành</button>
                    </div>

                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-12 d-flex">
                                        <hr style="width: 30%">
                                        <span style="font-size: 17px;">Biên Bản Xác Minh Tài Sản, Thu Nhập</span>
                                        <hr style="width: 30%">
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>Ngày Lập Biên Bản<span style="color: red">*</span></label>
                                            <input type="date" class="form-control" placeholder="nhập số văn bản" id="NgayLapBienBan" name="NgayLapBienBan">
                                            <input type="text" class="form-control" hidden id="ID_TienHanhXacMinh" name="ID_TienHanhXacMinh" value="0">
                                            <input type="text" class="form-control" hidden id="ID_KeHoachXacMinh" name="ID_KeHoachXacMinh" value="${ID_KeHoach}">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>Tên Người Được Xác Minh<span style="color: red">*</span></label>
                                            <input type="text" class="form-control" id="TenNguoiDuocXacMinh" name="TenNguoiDuocXacMinh">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>File Biên Bản<span style="color: red">*</span></label>
                                            <input class="form-control" type="file" id="FileBienBan" name="FileBienBan" style="height: auto;">
                                            <span id="DuLieuFileBienBan"></span>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label>Nội Dung Biên Bản<span style="color: red">*</span></label>
                                            <textarea class="form-control" rows="5" id="NoiDungBienBan" name="NoiDungBienBan"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="col-12">
                <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                    <div class="card-tools">
                        <div class="input-group input-group-sm" style="width: 200px;">
                            <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_XacMinh">

                            <div class="input-group-append mr-3">
                                <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_xacminh()">
                                    <i class="fas fa-search text-primary"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover text-nowrap table-bordered" id="dataTable_xacminh" style="width: 100%;">
                        <thead class="bg-primary">
                            <tr>
                                <th style="width: 2%;">STT</th>
                                <th style="width: 10%">Ngày Lập Biên Bản</th>
                                <th style="width: 15%">Tên Người Được Xác Minh</th>
                                <th style="width: 65%">Nội Dung Biên Bản</th>
                                <th style="width: 2%"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="card-footer clearfix" style="height: 51px; width: 100%">
                        <ul class="pagination pagination-sm m-0 float-right">
                        </ul>
                    </div>
                </div>
            </div>`

            $('#TienDo_Content').append(row)

            $(".NV_Create_XacMinh").validate({
                onfocusout: function (element) {
                    $(element).valid();
                },
                invalidHandler: function (form, validator) {
                    validator.focusInvalid();
                    Swal.fire({
                        icon: 'error',
                        title: 'Xuất hiện lỗi',
                        text: `Vui lòng kiểm tra thông báo lỗi`,
                        timer: 2000,
                        showConfirmButton: false
                    })

                },
                errorClass: "is-invalid",
                validClass: "is-valid",

                rules: {
                    NgayLapBienBan: {
                        required: true,
                    },
                    TenNguoiDuocXacMinh: {
                        required: true,
                    },
                    NoiDungBienBan: {
                        required: true,
                    },
                    FileBienBan: {
                        required: true,
                    },
                },
                messages: {
                    NgayLapBienBan: {
                        required: "Ngày Lập Biên Bản Không Được Để Trống",
                    },
                    TenNguoiDuocXacMinh: {
                        required: "Tên Người Được Xác Minh Không Được Để Trống",
                    },
                    NoiDungBienBan: {
                        required: "Nội Dung Biển Bản Không Được Để Trống",
                    },
                    FileBienBan: {
                        required: "File Biên Bản Chưa Được Đính Kèm",
                    },
                }

            });

            dt2 = $("#dataTable_xacminh").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataXacMinh/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [4] }
                ],
                "columns": [
                    { "data": "ID_TienHanhXacMinh" },
                    {
                        "data": "NgayLapBienBan", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },
                    { "data": "TenNguoiDuocXacMinh" },
                    { "data": "NoiDungBienBan" },
                    {
                        "data": { "ID_TienHanhXacMinh": "ID_TienHanhXacMinh", "FileBienBan": "FileBienBan" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileBienBan}" target="_blank" >
                                            File Biên Bản
                                        </a> 
                                        <a class="dropdown-item"  data-model-id="${data.ID_TienHanhXacMinh}" onclick="Edit_XacMinh(this)">
                                            Cập Nhật Dữ Liệu
                                        </a>  
                                        <a class="dropdown-item"  data-model-id="${data.ID_TienHanhXacMinh}" onclick="Delete_XacMinh(this)">
                                            Xóa Dữ Liệu
                                        </a>  
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt2.on('draw.dt', function () {
                var info = dt.page.info();
                dt2.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
        else if (tiendo == 4) {
            row = `<form action="/NV_XacMinhTaiSanThuNhap/LuuDuLieuBaoCao" class="NV_Create_BaoCao form-horizontal row justify-content-end" data-ajax="true" data-ajax-begin="FnBegin_BaoCao" data-ajax-failure="Failure_BaoCao" data-ajax-method="POST" data-ajax-success="FnSuccess_BaoCao" enctype="multipart/form-data" id="form0" method="post" novalidate="novalidate">
                    <div class="col-6" style="margin-top: 11px; text-align: right;">
                        <svg class="d-none" id="loading_baocao" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: #fff0; display: block; width: 48px; position: absolute; top: -7px; rigth: 215px;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                            <circle cx="75" cy="50" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.9090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.9090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="63.51602043638994" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.8181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.8181818181818182s"></animate>
                            </circle>
                            <circle cx="60.385375325047164" cy="72.74079988386296" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.7272727272727273s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.7272727272727273s"></animate>
                            </circle>
                            <circle cx="46.442129043167874" cy="74.74553604702332" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.6363636363636364s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.6363636363636364s"></animate>
                            </circle>
                            <circle cx="33.62848165136788" cy="68.89373935885646" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.5454545454545454s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.5454545454545454s"></animate>
                            </circle>
                            <circle cx="26.012675659637566" cy="57.04331392103574" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.45454545454545453s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.45454545454545453s"></animate>
                            </circle>
                            <circle cx="26.012675659637562" cy="42.95668607896427" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.36363636363636365s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.36363636363636365s"></animate>
                            </circle>
                            <circle cx="33.62848165136787" cy="31.106260641143546" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.2727272727272727s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.2727272727272727s"></animate>
                            </circle>
                            <circle cx="46.44212904316787" cy="25.254463952976682" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.18181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.18181818181818182s"></animate>
                            </circle>
                            <circle cx="60.38537532504715" cy="27.259200116137038" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.09090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.09090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="36.48397956361006" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="0s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="0s"></animate>
                            </circle>
                        </svg>
                        <button type="submit" style="margin-bottom: 15px;" title="Thêm Mới" class="btn btn-primary btn-primary-Edit" id="btn_save">Lưu Dữ Liệu</button>
                        <button type="button" style="margin-bottom: 15px;" class="btn btn-primary" id="btn_success" data-model-id="4" onclick="HoanThanh(this)">Hoàn Thành</button>
                    </div>

                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-12 d-flex">
                                        <hr style="width: 30%">
                                        <span style="font-size: 17px;">Báo Cáo Kết Quả Xác Minh</span>
                                        <hr style="width: 30%">
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>Số Báo Cáo<span style="color: red">*</span></label>
                                            <input type="text" class="form-control" placeholder="nhập số báo cáo" id="SoBaoCao" name="SoBaoCao">
                                            <input type="text" class="form-control" hidden id="ID_BaoCaoKetQuaXacMinh" name="ID_BaoCaoKetQuaXacMinh" value="0">
                                            <input type="text" class="form-control" hidden id="ID_KeHoachXacMinh" name="ID_KeHoachXacMinh" value="${ID_KeHoach}">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>Ngày Báo Cáo<span style="color: red">*</span></label>
                                            <input type="date" class="form-control" id="NgayBaoCao" name="NgayBaoCao">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>File Báo Cáo<span style="color: red">*</span></label>
                                            <input class="form-control" type="file" id="FileBaoCao" name="FileBaoCao" style="height: auto;">
                                            <span id="DuLieuFileBaoCao"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="col-12">
                <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                    <div class="card-tools">
                        <div class="input-group input-group-sm" style="width: 200px;">
                            <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_XacMinh">

                            <div class="input-group-append mr-3">
                                <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_xacminh()">
                                    <i class="fas fa-search text-primary"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover text-nowrap table-bordered" id="dataTable_xacminh" style="width: 100%;">
                        <thead class="bg-primary">
                            <tr>
                                <th style="width: 2%;">STT</th>
                                <th style="width: 10%">Số Báo Cáo</th>
                                <th style="width: 15%">Ngày Báo Cáo</th>
                                <th style="width: 2%"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="card-footer clearfix" style="height: 51px; width: 100%">
                        <ul class="pagination pagination-sm m-0 float-right">
                        </ul>
                    </div>
                </div>
            </div>`

            $('#TienDo_Content').append(row)

            $(".NV_Create_BaoCao").validate({
                onfocusout: function (element) {
                    $(element).valid();
                },
                invalidHandler: function (form, validator) {
                    validator.focusInvalid();
                    Swal.fire({
                        icon: 'error',
                        title: 'Xuất hiện lỗi',
                        text: `Vui lòng kiểm tra thông báo lỗi`,
                        timer: 2000,
                        showConfirmButton: false
                    })

                },
                errorClass: "is-invalid",
                validClass: "is-valid",

                rules: {
                    SoBaoCao: {
                        required: true,
                    },
                    NgayBaoCao: {
                        required: true,
                    },
                    FileBaoCao: {
                        required: true,
                    },
                },
                messages: {
                    SoBaoCao: {
                        required: "Số Báo Cáo Không Được Để Trống",
                    },
                    NgayBaoCao: {
                        required: "Ngày Báo Cáo Không Được Để Trống",
                    },
                    FileBaoCao: {
                        required: "File Báo Cáo Chưa Được Đính Kèm",
                    },

                }

            });

            dt3 = $("#dataTable_xacminh").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataBaoCao/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [3] }
                ],
                "columns": [
                    { "data": "ID_BaoCaoKetQuaXacMinh" },
                    { "data": "SoBaoCao" },
                    {
                        "data": "NgayBaoCao", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },

                    {
                        "data": { "ID_BaoCaoKetQuaXacMinh": "ID_BaoCaoKetQuaXacMinh", "FileBaoCao": "FileBaoCao" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileBaoCao}" target="_blank" >
                                            File Báo Cáo
                                        </a> 
                                        <a class="dropdown-item"  data-model-id="${data.ID_BaoCaoKetQuaXacMinh}" onclick="Edit_BaoCao(this)">
                                            Cập Nhật Dữ Liệu
                                        </a>  
                                        <a class="dropdown-item"  data-model-id="${data.ID_BaoCaoKetQuaXacMinh}" onclick="Delete_BaoCao(this)">
                                            Xóa Dữ Liệu
                                        </a>  
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt3.on('draw.dt', function () {
                var info = dt.page.info();
                dt3.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
        else if (tiendo == 5) {
            row = `<form action="/NV_XacMinhTaiSanThuNhap/LuuDuLieuKetLuan" class="NV_Create_KetLuan form-horizontal row justify-content-end" data-ajax="true" data-ajax-begin="FnBegin_KetLuan" data-ajax-failure="Failure_KetLuan" data-ajax-method="POST" data-ajax-success="FnSuccess_KetLuan" enctype="multipart/form-data" id="form0" method="post" novalidate="novalidate">
                    <div class="col-6" style="margin-top: 11px; text-align: right;">
                        <svg class="d-none" id="loading_ketluan" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: #fff0; display: block; width: 48px; position: absolute; top: -7px; rigth: 215px;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                            <circle cx="75" cy="50" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.9090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.9090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="63.51602043638994" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.8181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.8181818181818182s"></animate>
                            </circle>
                            <circle cx="60.385375325047164" cy="72.74079988386296" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.7272727272727273s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.7272727272727273s"></animate>
                            </circle>
                            <circle cx="46.442129043167874" cy="74.74553604702332" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.6363636363636364s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.6363636363636364s"></animate>
                            </circle>
                            <circle cx="33.62848165136788" cy="68.89373935885646" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.5454545454545454s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.5454545454545454s"></animate>
                            </circle>
                            <circle cx="26.012675659637566" cy="57.04331392103574" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.45454545454545453s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.45454545454545453s"></animate>
                            </circle>
                            <circle cx="26.012675659637562" cy="42.95668607896427" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.36363636363636365s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.36363636363636365s"></animate>
                            </circle>
                            <circle cx="33.62848165136787" cy="31.106260641143546" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.2727272727272727s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.2727272727272727s"></animate>
                            </circle>
                            <circle cx="46.44212904316787" cy="25.254463952976682" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.18181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.18181818181818182s"></animate>
                            </circle>
                            <circle cx="60.38537532504715" cy="27.259200116137038" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.09090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.09090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="36.48397956361006" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="0s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="0s"></animate>
                            </circle>
                        </svg>
                        <button type="submit" style="margin-bottom: 15px;" title="Thêm Mới" class="btn btn-primary btn-primary-Edit" id="btn_save">Lưu Dữ Liệu</button>
                        <button type="button" style="margin-bottom: 15px;" class="btn btn-primary" id="btn_success" data-model-id="5" onclick="HoanThanh(this)">Hoàn Thành</button>
                    </div>

                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-12 d-flex">
                                        <hr style="width: 30%">
                                        <span style="font-size: 17px;">Kết Luận Xác Minh Tài Sản, Thu Nhập</span>
                                        <hr style="width: 30%">
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>Số Kết Luận<span style="color: red">*</span></label>
                                            <input type="text" class="form-control" placeholder="nhập số kết luận" id="SoKetLuan" name="SoKetLuan">
                                            <input type="text" class="form-control" hidden id="ID_KetLuanXacMinh" name="ID_KetLuanXacMinh" value="0">
                                            <input type="text" class="form-control" hidden id="ID_KeHoachXacMinh" name="ID_KeHoachXacMinh" value="${ID_KeHoach}">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>Ngày Kết Luận<span style="color: red">*</span></label>
                                            <input type="date" class="form-control" id="NgayKetLuan" name="NgayKetLuan">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="form-group">
                                            <label>File Kết Luận<span style="color: red">*</span></label>
                                            <input class="form-control" type="file" id="FileKetLuan" name="FileKetLuan" style="height: auto;">
                                            <span id="DuLieuFileKetLuan"></span>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label>Nội Dung Kết Luận<span style="color: red">*</span></label>
                                            <textarea class="form-control" rows="5" id="NoiDungKetLuan" name="NoiDungKetLuan"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="col-12">
                <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                    <div class="card-tools">
                        <div class="input-group input-group-sm" style="width: 200px;">
                            <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_KetLuan">

                            <div class="input-group-append mr-3">
                                <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_ketluan()">
                                    <i class="fas fa-search text-primary"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover text-nowrap table-bordered" id="dataTable_ketluan" style="width: 100%;">
                        <thead class="bg-primary">
                            <tr>
                                <th style="width: 2%;">STT</th>
                                <th style="width: 10%">Số Kết Luận</th>
                                <th style="width: 15%">Ngày Kết Luận</th>
                                <th style="width: 65%">Nội Dung Biên Bản</th>
                                <th style="width: 2%"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="card-footer clearfix" style="height: 51px; width: 100%">
                        <ul class="pagination pagination-sm m-0 float-right">
                        </ul>
                    </div>
                </div>
            </div>`

            $('#TienDo_Content').append(row)

            $(".NV_Create_KetLuan").validate({
                onfocusout: function (element) {
                    $(element).valid();
                },
                invalidHandler: function (form, validator) {
                    validator.focusInvalid();
                    Swal.fire({
                        icon: 'error',
                        title: 'Xuất hiện lỗi',
                        text: `Vui lòng kiểm tra thông báo lỗi`,
                        timer: 2000,
                        showConfirmButton: false
                    })

                },
                errorClass: "is-invalid",
                validClass: "is-valid",

                rules: {
                    SoKetLuan: {
                        required: true,
                    },
                    NgayKetLuan: {
                        required: true,
                    },
                    NoiDungKetLuan: {
                        required: true,
                    },
                    FileKetLuan: {
                        required: true,
                    },
                },
                messages: {
                    SoKetLuan: {
                        required: "Số Kết Luận Không Được Để Trống",
                    },
                    NgayKetLuan: {
                        required: "Ngày Kết Luận Không Được Để Trống",
                    },
                    NoiDungKetLuan: {
                        required: "Nội Dung Kết Luận Không Được Để Trống",
                    },
                    FileKetLuan: {
                        required: "File Kết Luận Chưa Được Đính Kèm",
                    },
                }

            });

            dt4 = $("#dataTable_ketluan").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataKetLuan/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [4] }
                ],
                "columns": [
                    { "data": "ID_KetLuanXacMinh" },
                    { "data": "SoKetLuan" },
                    {
                        "data": "NgayKetLuan", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },

                    { "data": "NoiDungKetLuan" },
                    {
                        "data": { "ID_KetLuanXacMinh": "ID_KetLuanXacMinh", "FileKetLuan": "FileKetLuan" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileKetLuan}" target="_blank" >
                                            File Biên Bản
                                        </a> 
                                        <a class="dropdown-item"  data-model-id="${data.ID_KetLuanXacMinh}" onclick="Edit_KetLuan(this)">
                                            Cập Nhật Dữ Liệu
                                        </a>  
                                        <a class="dropdown-item"  data-model-id="${data.ID_KetLuanXacMinh}" onclick="Delete_KetLuan(this)">
                                            Xóa Dữ Liệu
                                        </a>  
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt4.on('draw.dt', function () {
                var info = dt.page.info();
                dt4.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
        else if (tiendo == 6) {
            row = `<form action="/NV_XacMinhTaiSanThuNhap/LuuDuLieuCongKhai" class="NV_Create_CongKhai form-horizontal row justify-content-end" data-ajax="true" data-ajax-begin="FnBegin_CongKhai" data-ajax-failure="Failure_CongKhai" data-ajax-method="POST" data-ajax-success="FnSuccess_CongKhai" enctype="multipart/form-data" id="form0" method="post" novalidate="novalidate">
                    <div class="col-6" style="margin-top: 11px; text-align: right;">
                        <svg class="d-none" id="loading_congkhai" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: #fff0; display: block; width: 48px; position: absolute; top: -7px; rigth: 215px;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                            <circle cx="75" cy="50" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.9090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.9090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="63.51602043638994" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.8181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.8181818181818182s"></animate>
                            </circle>
                            <circle cx="60.385375325047164" cy="72.74079988386296" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.7272727272727273s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.7272727272727273s"></animate>
                            </circle>
                            <circle cx="46.442129043167874" cy="74.74553604702332" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.6363636363636364s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.6363636363636364s"></animate>
                            </circle>
                            <circle cx="33.62848165136788" cy="68.89373935885646" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.5454545454545454s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.5454545454545454s"></animate>
                            </circle>
                            <circle cx="26.012675659637566" cy="57.04331392103574" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.45454545454545453s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.45454545454545453s"></animate>
                            </circle>
                            <circle cx="26.012675659637562" cy="42.95668607896427" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.36363636363636365s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.36363636363636365s"></animate>
                            </circle>
                            <circle cx="33.62848165136787" cy="31.106260641143546" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.2727272727272727s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.2727272727272727s"></animate>
                            </circle>
                            <circle cx="46.44212904316787" cy="25.254463952976682" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.18181818181818182s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.18181818181818182s"></animate>
                            </circle>
                            <circle cx="60.38537532504715" cy="27.259200116137038" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="-0.09090909090909091s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="-0.09090909090909091s"></animate>
                            </circle>
                            <circle cx="71.03133832077953" cy="36.48397956361006" fill="#93e6d6" r="5">
                                <animate attributeName="r" values="3;3;5;3;3" times="0;0.1;0.2;0.3;1" dur="1s" repeatCount="indefinite" begin="0s"></animate>
                                <animate attributeName="fill" values="#93e6d6;#93e6d6;#17a2b8;#93e6d6;#93e6d6" repeatCount="indefinite" times="0;0.1;0.2;0.3;1" dur="1s" begin="0s"></animate>
                            </circle>
                        </svg>
                        <button type="submit" style="margin-bottom: 15px;" title="Thêm Mới" class="btn btn-primary btn-primary-Edit" id="btn_save">Lưu Dữ Liệu</button>
                        <button type="button" style="margin-bottom: 15px;" class="btn btn-primary" id="btn_success" data-model-id="6" onclick="HoanThanh(this)">Hoàn Thành</button>
                    </div>

                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-12 d-flex">
                                        <hr style="width: 30%">
                                        <span style="font-size: 17px;">Công Khai Kết Luận Xác Minh Tài Sản, Thu Nhập</span>
                                        <hr style="width: 30%">
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group">
                                            <label>Ngày Công Khai Kết Luận<span style="color: red">*</span></label>
                                            <input type="date" class="form-control" placeholder="nhập số kết luận" id="NgayCongKhaiKetLuan" name="NgayCongKhaiKetLuan">
                                            <input type="text" class="form-control" hidden id="ID_GuiVaCongKhaiKetLuanXacMinh" name="ID_GuiVaCongKhaiKetLuanXacMinh" value="0">
                                            <input type="text" class="form-control" hidden id="ID_KeHoachXacMinh" name="ID_KeHoachXacMinh" value="${ID_KeHoach}">
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group">
                                            <label>File Biên Bản<span style="color: red">*</span></label>
                                            <input class="form-control" type="file" id="FileBienBan" name="FileBienBan" style="height: auto;">
                                            <span id="DuLieuFileBienBan"></span>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label>Nội Dung Biên Bản<span style="color: red">*</span></label>
                                            <textarea class="form-control" rows="5" id="NoiDungBienBan" name="NoiDungBienBan"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="col-12">
                <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                    <div class="card-tools">
                        <div class="input-group input-group-sm" style="width: 200px;">
                            <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_CongKhai">

                            <div class="input-group-append mr-3">
                                <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_congkhai()">
                                    <i class="fas fa-search text-primary"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover text-nowrap table-bordered" id="dataTable_congkhai" style="width: 100%;">
                        <thead class="bg-primary">
                            <tr>
                                <th style="width: 2%;">STT</th>
                                <th style="width: 10%">Ngày Công Khai Kết Luận</th>
                                <th style="width: 65%">Nội Dung Biên Bản</th>
                                <th style="width: 2%"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="card-footer clearfix" style="height: 51px; width: 100%">
                        <ul class="pagination pagination-sm m-0 float-right">
                        </ul>
                    </div>
                </div>
            </div>`

            $('#TienDo_Content').append(row)

            $(".NV_Create_CongKhai").validate({
                onfocusout: function (element) {
                    $(element).valid();
                },
                invalidHandler: function (form, validator) {
                    validator.focusInvalid();
                    Swal.fire({
                        icon: 'error',
                        title: 'Xuất hiện lỗi',
                        text: `Vui lòng kiểm tra thông báo lỗi`,
                        timer: 2000,
                        showConfirmButton: false
                    })

                },
                errorClass: "is-invalid",
                validClass: "is-valid",

                rules: {
                    NgayCongKhaiKetLuan: {
                        required: true,
                    },
                    NoiDungBienBan: {
                        required: true,
                    },
                    FileBienBan: {
                        required: true,
                    },
                   
                },
                messages: {
                    NgayCongKhaiKetLuan: {
                        required: "Ngày Công Khai Kết Luận Không Được Để Trống",
                    },
                    NoiDungBienBan: {
                        required: "Nội Dung Biên Bản Không Được Để Trống",
                    },
                    FileBienBan: {
                        required: "File Biến Bản Chưa Được Đính Kèm",
                    },
                }

            });

            dt5 = $("#dataTable_congkhai").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataCongKhai/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [3] }
                ],
                "columns": [
                    { "data": "ID_GuiVaCongKhaiKetLuanXacMinh" },
                    {
                        "data": "NgayCongKhaiKetLuan", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },

                    { "data": "NoiDungBienBan" },
                    {
                        "data": { "ID_GuiVaCongKhaiKetLuanXacMinh": "ID_GuiVaCongKhaiKetLuanXacMinh", "FileBienBan": "FileBienBan" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileBienBan}" target="_blank" >
                                            File Biên Bản
                                        </a> 
                                        <a class="dropdown-item"  data-model-id="${data.ID_GuiVaCongKhaiKetLuanXacMinh}" onclick="Edit_CongKhai(this)">
                                            Cập Nhật Dữ Liệu
                                        </a>  
                                        <a class="dropdown-item"  data-model-id="${data.ID_GuiVaCongKhaiKetLuanXacMinh}" onclick="Delete_CongKhai(this)">
                                            Xóa Dữ Liệu
                                        </a>  
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt5.on('draw.dt', function () {
                var info = dt.page.info();
                dt5.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
    }
    function LoadBodyTienDoDaHoanThanh(tiendo) {
        $('#TienDo_Content').empty();
        var row = ``

        if (tiendo == 0 || tiendo == 1) {
            $.get("/NV_XacMinhTaiSanThuNhap/GetRaQuyetDinhXacMinh", { ID_KeHoach: ID_KeHoach }, (data) => {
                row = `<div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-12 d-flex">
                                            <hr style="width: 30%">
                                            <span style="font-size: 17px;">Căn Cứ Xác Minh Tài Sản, Thu Nhập</span>
                                            <hr style="width: 30%">
                                        </div>

                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Số Văn Bản</label>
                                                <input type="text" class="form-control" placeholder="nhập số văn bản" id="SoVanBan" name="SoVanBan" value="${data.SoVanBan}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Ngày Lập Văn Bản</label>
                                                <input type="date" class="form-control" id="NgayLapVanBan" name="NgayLapVanBan" value="${moment(data.NgayLapVanBan).format("YYYY-MM-DD")}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>File Văn Bản</label>
                                                <a style="display: block" href="/Content/Uploads/${data.FileVanBan}" target="_blank">${data.FileVanBan}</a>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label>Nội Dung Văn Bản</label>
                                                <textarea class="form-control" rows="5" id="NoiDungVanBan" name="NoiDungVanBan">${data.NoiDungVanBan}</textarea>
                                            </div>
                                        </div>

                                        <div class="col-12 d-flex" style="margin-top: 20px;">
                                            <hr style="width: 30%">
                                            <span style="font-size: 17px;">Quyết Định Xác Minh, Tài Sản Thu Nhập</span>
                                            <hr style="width: 30%">
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Số Quyết Định</label>
                                                <input type="text" class="form-control" placeholder="nhập số quyết định" id="SoQuyetDinh" name="SoQuyetDinh" value="${data.SoQuyetDinh}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Ngày Lập Quyết Định</label>
                                                <input type="date" class="form-control" id="NgayQuyetDinh" name="NgayQuyetDinh" value="${moment(data.NgayQuyetDinh).format("YYYY-MM-DD")}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Căn Cứ Ban Hành Quyết Định Xác Minh</label>
                                                <a style="display: block" href="/Content/Uploads/${data.CanCuBanHanhQuyetDinhXacMinh}" target="_blank">${data.CanCuBanHanhQuyetDinhXacMinh}</a>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Họ, Tên, Chức Vụ, Nơi Công Tác Của Tổ Trưởng Và Thành Viên Tổ Xác Minh Tài Sản, Thu Nhập</label>
                                                <a style="display: block" href="/Content/Uploads/${data.FileToXacMinh}" target="_blank">${data.FileToXacMinh}</a>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Họ, Tên, Chức Vụ, Nơi Công Tác Của Người Được Xác Minh Tài Sản, Thu Nhập</label>
                                                <a style="display: block;" href="/Content/Uploads/${data.FileDanhSachCanBoXacMinh}" target="_blank">${data.FileDanhSachCanBoXacMinh}</a>
                                            </div>
                                        </div>  
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Họ, Tên, Chức Vụ, Nơi Công Tác Của Người Được Xác Minh Tài Sản, Thu Nhập</label>
                                                <a style="display: block" href="/Content/Uploads/${data.FileNhiemVuQuyenHan}" target="_blank">${data.FileNhiemVuQuyenHan}</a>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Các Cơ Quan, Tổ Chức, Đơn Vị, Cá Nhân Phối Hợp (nếu có)</label>
                                                <a style="display: block" href="/Content/Uploads/${data.FileCoQuanToChucPhoiHop}" target="_blank">${data.FileCoQuanToChucPhoiHop}</a>
                                            </div>
                                        </div>

                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>Thời Hạn Xác Minh (ngày)</label>
                                                <input class="form-control" type="number" min="1" id="ThoiHanXacMinh" name="ThoiHanXacMinh" style="height: auto;" value="${data.ThoiHanXacMinh}">
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="form-group">
                                                <label>File Quyết Định</label>
                                                <a style="display: block" href="/Content/Uploads/${data.FileQuyetDinh}" target="_blank">${data.FileQuyetDinh}</a>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label>Nội Dung Xác Minh</label>
                                                <textarea class="form-control" rows="5" id="NoiDungXacMinh" name="NoiDungXacMinh">${data.NoiDungXacMinh}</textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>`
                $('#TienDo_Content').append(row)
            })
        }
        else if (tiendo == 2) {
            row = `<div class="col-12 d-flex" style="height: 4px;margin-top: 12px;">
                                        <hr style="width: 30%">
                                        <span style="font-size: 17px;">Danh Sách Biên Bản Làm Việc</span>
                                        <hr style="width: 30%">
                                    </div>
                <div class="col-12">
                    <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                        <div class="card-tools">
                            <div class="input-group input-group-sm" style="width: 200px;">
                                <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_GiaiTrinh">

                                <div class="input-group-append mr-3">
                                    <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_giaitrinh()">
                                        <i class="fas fa-search text-primary"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <table class="table table-hover text-nowrap table-bordered" id="dataTable_giaitrinh" style="width: 100%;">
                            <thead class="bg-primary">
                                <tr>
                                    <th style="width: 2%;">STT</th>
                                    <th style="width: 10%">Ngày Lập Biên Bản</th>
                                    <th style="width: 15%">Tên Người Được Xác Minh</th>
                                    <th style="width: 65%">Nội Dung Biên Bản</th>
                                    <th style="width: 2%"></th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                        <div class="card-footer clearfix" style="height: 51px; width: 100%">
                            <ul class="pagination pagination-sm m-0 float-right">
                            </ul>
                        </div>
                    </div>
                </div>`

            $('#TienDo_Content').append(row)

            dt1 = $("#dataTable_giaitrinh").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataGiaiTrinh/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [4] }
                ],
                "columns": [
                    { "data": "ID_GiaiTrinhTaiSanThuNhap" },
                    {
                        "data": "NgayLapBienBan", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },
                    { "data": "TenNguoiDuocXacMinh" },
                    { "data": "NoiDungBienBan" },
                    {
                        "data": { "ID_GiaiTrinhTaiSanThuNhap": "ID_GiaiTrinhTaiSanThuNhap", "FileBienBan": "FileBienBan" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileBienBan}" target="_blank" >
                                            File Biên Bản
                                        </a> 
                                       
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt1.on('draw.dt', function () {
                var info = dt.page.info();
                dt1.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
        else if (tiendo == 3) {
            row = `<div class="col-12 d-flex" style="height: 4px;margin-top: 12px;">
                                        <hr style="width: 30%">
                                        <span style="font-size: 17px;">Danh Sách Biên Bản Xác Minh</span>
                                        <hr style="width: 30%">
                                    </div>
                <div class="col-12">
                    <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                        <div class="card-tools">
                            <div class="input-group input-group-sm" style="width: 200px;">
                                <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_XacMinh">

                                <div class="input-group-append mr-3">
                                    <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_xacminh()">
                                        <i class="fas fa-search text-primary"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <table class="table table-hover text-nowrap table-bordered" id="dataTable_xacminh" style="width: 100%;">
                            <thead class="bg-primary">
                                <tr>
                                    <th style="width: 2%;">STT</th>
                                    <th style="width: 10%">Ngày Lập Biên Bản</th>
                                    <th style="width: 15%">Tên Người Được Xác Minh</th>
                                    <th style="width: 65%">Nội Dung Biên Bản</th>
                                    <th style="width: 2%"></th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                        <div class="card-footer clearfix" style="height: 51px; width: 100%">
                            <ul class="pagination pagination-sm m-0 float-right">
                            </ul>
                        </div>
                    </div>
                </div>`

            $('#TienDo_Content').append(row)

            dt2 = $("#dataTable_xacminh").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataXacMinh/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [4] }
                ],
                "columns": [
                    { "data": "ID_TienHanhXacMinh" },
                    {
                        "data": "NgayLapBienBan", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },
                    { "data": "TenNguoiDuocXacMinh" },
                    { "data": "NoiDungBienBan" },
                    {
                        "data": { "FileBienBan": "FileBienBan" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileBienBan}" target="_blank" >
                                            File Biên Bản
                                        </a> 
                                       
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt2.on('draw.dt', function () {
                var info = dt.page.info();
                dt2.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
        else if (tiendo == 4) {
            row = `<div class="col-12 d-flex" style="height: 4px;margin-top: 12px;">
                    <hr style="width: 30%">
                    <span style="font-size: 17px;">Danh Sách Báo Cáo Kết Quả Xác Minh</span>
                    <hr style="width: 30%">
                </div>         
                <div class="col-12" style="margin-top: -46px;">
                <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                    <div class="card-tools">
                        <div class="input-group input-group-sm" style="width: 200px;">
                            <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_XacMinh">

                            <div class="input-group-append mr-3">
                                <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_xacminh()">
                                    <i class="fas fa-search text-primary"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover text-nowrap table-bordered" id="dataTable_xacminh" style="width: 100%;">
                        <thead class="bg-primary">
                            <tr>
                                <th style="width: 2%;">STT</th>
                                <th style="width: 10%">Số Báo Cáo</th>
                                <th style="width: 15%">Ngày Báo Cáo</th>
                                <th style="width: 2%"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="card-footer clearfix" style="height: 51px; width: 100%">
                        <ul class="pagination pagination-sm m-0 float-right">
                        </ul>
                    </div>
                </div>
            </div>`

            $('#TienDo_Content').append(row)


            dt3 = $("#dataTable_xacminh").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataBaoCao/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [3] }
                ],
                "columns": [
                    { "data": "ID_BaoCaoKetQuaXacMinh" },
                    { "data": "SoBaoCao" },
                    {
                        "data": "NgayBaoCao", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },

                    {
                        "data": { "ID_BaoCaoKetQuaXacMinh": "ID_BaoCaoKetQuaXacMinh", "FileBaoCao": "FileBaoCao" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileBaoCao}" target="_blank" >
                                            File Báo Cáo
                                        </a> 
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt3.on('draw.dt', function () {
                var info = dt.page.info();
                dt3.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
        else if (tiendo == 5) {
            row = `<div class="col-12 d-flex" style="height: 4px;margin-top: 12px;">
                    <hr style="width: 30%">
                    <span style="font-size: 17px;">Danh Sách Kết Luận Xác Minh</span>
                    <hr style="width: 30%">
                </div>         
                <div class="col-12" style="margin-top: -46px;">
                <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                    <div class="card-tools">
                        <div class="input-group input-group-sm" style="width: 200px;">
                            <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_KetLuan">

                            <div class="input-group-append mr-3">
                                <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_ketluan()">
                                    <i class="fas fa-search text-primary"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover text-nowrap table-bordered" id="dataTable_ketluan" style="width: 100%;">
                        <thead class="bg-primary">
                            <tr>
                                <th style="width: 2%;">STT</th>
                                <th style="width: 10%">Số Kết Luận</th>
                                <th style="width: 15%">Ngày Kết Luận</th>
                                <th style="width: 65%">Nội Dung Biên Bản</th>
                                <th style="width: 2%"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="card-footer clearfix" style="height: 51px; width: 100%">
                        <ul class="pagination pagination-sm m-0 float-right">
                        </ul>
                    </div>
                </div>
            </div>`

            $('#TienDo_Content').append(row)

            dt4 = $("#dataTable_ketluan").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2, 3]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataKetLuan/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [4] }
                ],
                "columns": [
                    { "data": "ID_KetLuanXacMinh" },
                    { "data": "SoKetLuan" },
                    {
                        "data": "NgayKetLuan", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },

                    { "data": "NoiDungKetLuan" },
                    {
                        "data": { "ID_KetLuanXacMinh": "ID_KetLuanXacMinh", "FileKetLuan": "FileKetLuan" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileKetLuan}" target="_blank" >
                                            File Biên Bản
                                        </a> 
                                       
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt4.on('draw.dt', function () {
                var info = dt.page.info();
                dt4.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
        else if (tiendo == 6) {
            row = `<div class="col-12 d-flex" style="height: 4px;margin-top: 12px;">
                    <hr style="width: 30%">
                    <span style="font-size: 17px;">Danh Sách Công Khai Kết Luận Xác Minh</span>
                    <hr style="width: 30%">
                </div>         
                <div class="col-12" style="margin-top: -46px;">
                <div class="card elevation-2" style="overflow-x: scroll; overflow-y: hidden; ">
                    <div class="card-tools">
                        <div class="input-group input-group-sm" style="width: 200px;">
                            <input type="text" name="table_search" class="form-control float-right" placeholder="Tìm ..." id="Filter_CongKhai">

                            <div class="input-group-append mr-3">
                                <button type="submit" class="btn btn-default" id="search_btn_GiaiTrinh" onclick="search_congkhai()">
                                    <i class="fas fa-search text-primary"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover text-nowrap table-bordered" id="dataTable_congkhai" style="width: 100%;">
                        <thead class="bg-primary">
                            <tr>
                                <th style="width: 2%;">STT</th>
                                <th style="width: 10%">Ngày Công Khai Kết Luận</th>
                                <th style="width: 65%">Nội Dung Biên Bản</th>
                                <th style="width: 2%"></th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <div class="card-footer clearfix" style="height: 51px; width: 100%">
                        <ul class="pagination pagination-sm m-0 float-right">
                        </ul>
                    </div>
                </div>
            </div>`

            $('#TienDo_Content').append(row)

            dt5 = $("#dataTable_congkhai").DataTable({
                "lengthChange": false,
                "info": false,
                "searching": true,
                "language": {
                    "search": "",
                    "info": "Tổng số _TOTAL_ hàng",
                    "infoEmpty": "",
                    "infoFiltered": "",
                    "paginate": {
                        "next": "»",
                        "previous": "«"
                    },
                    "processing": `Đang tải dữ liệu`,
                    searchPlaceholder: "Tìm...",
                    zeroRecords: "Không tìm thấy kết quả",

                },
                dom: 'Bfrtip',
                buttons: [
                    {
                        text: '<i class="fa fa-file-excel"></i>',
                        extend: 'excel',
                        className: 'btn btn-outline-primary btn-sm mt-2 ml-3',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    },
                    {
                        text: '<i class="fa fa-file-pdf"></i>',
                        extend: 'pdf',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    },
                    {
                        text: '<i class="fa fa-print"></i>',
                        extend: 'print',
                        className: 'btn btn-outline-primary btn-sm mt-2',
                        exportOptions: {
                            columns: [1, 2]
                        }
                    }
                ],

                "serverSide": true,
                "processing": true,
                "ajax": {
                    "url": `/NV_XacMinhTaiSanThuNhap/LoadDataCongKhai/${ID_KeHoach}`,
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs": [
                    { className: "cn", "targets": [3] }
                ],
                "columns": [
                    { "data": "ID_GuiVaCongKhaiKetLuanXacMinh" },
                    {
                        "data": "NgayCongKhaiKetLuan", "render": function (data, type, row) {
                            return moment(data).format("DD/MM/YYYY")
                        }
                    },

                    { "data": "NoiDungBienBan" },
                    {
                        "data": { "ID_GuiVaCongKhaiKetLuanXacMinh": "ID_GuiVaCongKhaiKetLuanXacMinh", "FileBienBan": "FileBienBan" }, "render": function (data, type, row) {
                            return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">

                                        <a class="dropdown-item" href="/content/uploads/${data.FileBienBan}" target="_blank" >
                                            File Biên Bản
                                        </a> 
                                      </div>
                                    </div>`
                        }
                    },
                ]
            });
            dt5.on('draw.dt', function () {
                var info = dt.page.info();
                dt5.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1 + info.start;
                });
            });
        }
    }
    function TienDo(obj) {
        var ele = $(obj);
        var ID_TienDo = ele.data("model-id");
        $('.label').css({ 'font-weight': 'normal', 'color': 'rgb(153, 153, 153)' })

        ResetRoundTab(TienDoHienTai)

        if (ID_TienDo == 1) {
            $('#label_1').css({ 'font-weight': 'bold', 'color': 'rgb(5, 79, 210)' })
            if (TienDoHienTai > 1) {
                $('#round-tab-1').css({ 'border': '3px solid rgb(51, 177, 20)' })
                LoadBodyTienDoDaHoanThanh(1)
            }
            if (TienDoHienTai == 0 || TienDoHienTai == 1) {
                $.get("/NV_XacMinhTaiSanThuNhap/GetTienDo", { ID_KeHoach: ID_KeHoach }, (data) => {
                    LoadBodyTienDo(data.TienDoHienTai, data.CheckRaQuyetDinh)
                })
            }
        }
        else if (ID_TienDo == 2) {
            $('#label_2').css({ 'font-weight': 'bold', 'color': 'rgb(5, 79, 210)' })
            if (TienDoHienTai > 2) {
                $('#round-tab-2').css({ 'border': '3px solid rgb(51, 177, 20)' })
                LoadBodyTienDoDaHoanThanh(2)
            }
            if (TienDoHienTai == 2) {
                LoadBodyTienDo(2, 0)
            }
        }
        else if (ID_TienDo == 3) {
            $('#label_3').css({ 'font-weight': 'bold', 'color': 'rgb(5, 79, 210)' })
            if (TienDoHienTai > 3) {
                $('#round-tab-3').css({ 'border': '3px solid rgb(51, 177, 20)' })
                LoadBodyTienDoDaHoanThanh(3)
            }
            if (TienDoHienTai == 3) {
                LoadBodyTienDo(3, 0)
            }
        }
        else if (ID_TienDo == 4) {
            $('#label_4').css({ 'font-weight': 'bold', 'color': 'rgb(5, 79, 210)' })
            if (TienDoHienTai > 4) {
                $('#round-tab-4').css({ 'border': '3px solid rgb(51, 177, 20)' })
                LoadBodyTienDoDaHoanThanh(4)
            }
            if (TienDoHienTai == 4) {
                LoadBodyTienDo(4, 0)
            }
        }
        else if (ID_TienDo == 5) {
            $('#label_5').css({ 'font-weight': 'bold', 'color': 'rgb(5, 79, 210)' })
            if (TienDoHienTai > 5) {
                $('#round-tab-5').css({ 'border': '3px solid rgb(51, 177, 20)' })
                LoadBodyTienDoDaHoanThanh(5)
            }
            if (TienDoHienTai == 5) {
                LoadBodyTienDo(5, 0)
            }
        }
        else if (ID_TienDo == 6) {
            $('#label_6').css({ 'font-weight': 'bold', 'color': 'rgb(5, 79, 210)' })
            if (TienDoHienTai > 6) {
                $('#round-tab-6').css({ 'border': '3px solid rgb(51, 177, 20)' })
                LoadBodyTienDoDaHoanThanh(6)
            }
            if (TienDoHienTai == 6) {
                LoadBodyTienDo(6, 0)
            }
        }
       
    }
    function LoadLayoutTienDo(tiendo, SoNgay) {
        TienDoHienTai = tiendo
        
        var DuLieuNgay = ""
        if (SoNgay > 0) {
            var DuLieuNgay = `<span style="font-weight: bold; color: rgb(5, 79, 210);">Còn lại ${SoNgay} Ngày<span>`
        }
        else if (SoNgay < 0) {
            var DuLieuNgay = `<span style="font-weight: bold; color: #E84C3D;">Trễ hạn ${-1*SoNgay} Ngày<span>`
        }

        $('.step_new').empty()
        var row = ``
        if (tiendo == 0 || tiendo == 1) {
            row = `<li class="text-center" id="" role="presentation" data-tag="TD1" data-index="1">
                        <p id="idTD1" class="Edit-TienDo">${(DuLieuNgay != "") ? DuLieuNgay :"&nbsp;"}</p>
                        <a href="#step1" id="step1" data-toggle="tab" aria-controls="step1" role="tab" class="nav-link active" onclick="TienDo(this)" data-model-id="1">
                            <span class="round-tab" title="Tiến độ 1">1</span>
                        </a>
                        <p id="label_1" class="label" style="font-weight: bold; color: rgb(5, 79, 210);">Ra quyết định <br /> xác minh tài sản,<br /> thu nhập</p>
                        </li>
                        <li class="text-center" role="presentation">
                        <p>&nbsp;</p>
                        <a class="nav-link">
                            <span class="round-tab disa_step_new">2</span>
                        </a>
                        <p style="font-weight: normal; color: rgb(153, 153, 153);">
                            Giải trình tài sản <br /> thu nhập
                        </p>
                    </li>
                    <li class="text-center" role="presentation">
                        <p>&nbsp;</p>
                        <a class="nav-link">
                            <span class="round-tab disa_step_new">3</span>
                        </a>
                        <p style="font-weight: normal; color: rgb(153, 153, 153);">
                            Tiến hành xác minh tài sản, thu nhập
                        </p>
                    </li>
                    <li class="text-center" role="presentation">
                        <p>&nbsp;</p>
                        <a class="nav-link">
                            <span class="round-tab disa_step_new">4</span>
                        </a>
                        <p style="font-weight: normal; color: rgb(153, 153, 153);">
                            Báo cáo kết quả<br /> xác minh
                        </p>
                    </li>
                    <li class="text-center" role="presentation">
                        <p>&nbsp;</p>
                        <a class="nav-link">
                            <span class="round-tab disa_step_new">5</span>
                        </a>
                        <p style="font-weight: normal; color: rgb(153, 153, 153);">
                            Kết luận<br />xác minh
                        </p>
                    </li>
                    <li class="text-center" role="presentation">
                    <p>&nbsp;</p>
                    <a class="nav-link">
                        <span class="round-tab disa_step_new">6</span>
                    </a>
                    <p style="font-weight: normal; color: rgb(153, 153, 153);">
                        Công khai kết luận<br /> xác minh
                    </p>
                </li>
                    `
        }
        else if (tiendo == 2) {
            row = `<li class="text-center" role="presentation" data-tag="TD1" data-index="1">
                            <p id="idTD1" class="Edit-TienDo">&nbsp;</p>
                            <a href="#step1" id="step1" data-toggle="tab" aria-controls="step1" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="1">
                                <span class="round-tab" id="round-tab-1" title="Tiến độ 1" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                            </a>
                            <p id="label_1" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Ra quyết định <br /> xác minh tài sản,<br /> thu nhập</p>
                         </li>
                        <li class="text-center" role="presentation" data-tag="TD2" data-index="2">
                            <p id="idTD2" class="Edit-TienDo">${(DuLieuNgay != "") ? DuLieuNgay : "&nbsp;"}</p>
                            <a href="#step2" id="step2" data-toggle="tab" id="round-tab-2" aria-controls="step2" role="tab" class="nav-link active" onclick="TienDo(this)" data-model-id="2">
                                <span class="round-tab" id="round-tab-2" title="Tiến độ 2">2</span>
                            </a>
                            <p id="label_2" class="label" style="font-weight: bold; color: rgb(5, 79, 210);">Giải trình tài sản <br /> thu nhập</p>
                         </li>
                           <li class="text-center" role="presentation">
                            <p>&nbsp;</p>
                            <a class="nav-link">
                                <span class="round-tab disa_step_new">3</span>
                            </a>
                            <p style="font-weight: normal; color: rgb(153, 153, 153);">
                                Tiến hành xác minh tài sản, thu nhập
                            </p>
                        </li>
                        <li class="text-center" role="presentation">
                            <p>&nbsp;</p>
                            <a class="nav-link">
                                <span class="round-tab disa_step_new">4</span>
                            </a>
                            <p style="font-weight: normal; color: rgb(153, 153, 153);">
                                Báo cáo kết quả<br /> xác minh
                            </p>
                        </li>
                        <li class="text-center" role="presentation">
                            <p>&nbsp;</p>
                            <a class="nav-link">
                                <span class="round-tab disa_step_new">5</span>
                            </a>
                            <p style="font-weight: normal; color: rgb(153, 153, 153);">
                                Kết luận<br />xác minh
                            </p>
                        </li>
                        <li class="text-center" role="presentation">
                        <p>&nbsp;</p>
                        <a class="nav-link">
                            <span class="round-tab disa_step_new">6</span>
                        </a>
                        <p style="font-weight: normal; color: rgb(153, 153, 153);">
                            Công khai kết luận<br /> xác minh
                        </p>
                    </li>`
        }
        else if (tiendo == 3) {
            row = `<li class="text-center" role="presentation" data-tag="TD1" data-index="1">
                        <p id="idTD1" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step1" id="step1" data-toggle="tab" aria-controls="step1" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="1">
                            <span class="round-tab" id="round-tab-1" title="Tiến độ 1" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_1" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Ra quyết định <br /> xác minh tài sản,<br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD2" data-index="2">
                        <p id="idTD2" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step2" id="step2" data-toggle="tab" aria-controls="step2" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="2">
                            <span class="round-tab" id="round-tab-2" id="round-tab-2" title="Tiến độ 2" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_2" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Giải trình tài sản <br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD3" data-index="3">
                        <p id="idTD3" class="Edit-TienDo">${(DuLieuNgay != "") ? DuLieuNgay : "&nbsp;"}</p>
                        <a href="#step3" id="step3" data-toggle="tab" aria-controls="step3" role="tab" class="nav-link active" onclick="TienDo(this)" data-model-id="3">
                            <span class="round-tab" id="round-tab-3" title="Tiến độ 3">3</span>
                        </a>
                        <p id="label_3" class="label" style="font-weight: bold; color: rgb(5, 79, 210);">Tiến hành xác minh tài sản, thu nhập</p>
                    </li>
                      <li class="text-center" role="presentation">
                            <p>&nbsp;</p>
                            <a class="nav-link">
                                <span class="round-tab disa_step_new">4</span>
                            </a>
                            <p style="font-weight: normal; color: rgb(153, 153, 153);">
                                Báo cáo kết quả<br /> xác minh
                            </p>
                        </li>
                        <li class="text-center" role="presentation">
                            <p>&nbsp;</p>
                            <a class="nav-link">
                                <span class="round-tab disa_step_new">5</span>
                            </a>
                            <p style="font-weight: normal; color: rgb(153, 153, 153);">
                                Kết luận<br />xác minh
                            </p>
                        </li>
                        <li class="text-center" role="presentation">
                        <p>&nbsp;</p>
                        <a class="nav-link">
                            <span class="round-tab disa_step_new">6</span>
                        </a>
                        <p style="font-weight: normal; color: rgb(153, 153, 153);">
                            Công khai kết luận<br /> xác minh
                        </p>
                    </li>`
        }
        else if (tiendo == 4) {
            row = `<li class="text-center" role="presentation" data-tag="TD1" data-index="1">
                        <p id="idTD1" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step1" id="step1" data-toggle="tab" aria-controls="step1" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="1">
                            <span class="round-tab" id="round-tab-1" title="Tiến độ 1" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_1" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Ra quyết định <br /> xác minh tài sản,<br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD2" data-index="2">
                        <p id="idTD2" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step2" id="step2" data-toggle="tab" aria-controls="step2" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="2">
                            <span class="round-tab" id="round-tab-2" title="Tiến độ 2" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_2" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Giải trình tài sản <br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD3" data-index="3">
                        <p id="idTD3" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step3" id="step3" data-toggle="tab" aria-controls="step3" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="3">
                            <span class="round-tab" id="round-tab-3" title="Tiến độ 3" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_3" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Tiến hành xác minh tài sản, thu nhập</p>
                    </li>
                        <li class="text-center" role="presentation" data-tag="TD4" data-index="4">
                        <p id="idTD4" class="Edit-TienDo">${(DuLieuNgay != "") ? DuLieuNgay : "&nbsp;"}</p>
                        <a href="#step4" id="step4" data-toggle="tab" aria-controls="step4" role="tab" class="nav-link active" onclick="TienDo(this)" data-model-id="4">
                            <span class="round-tab" id="round-tab-4" title="Tiến độ 4">4</span>
                        </a>
                        <p id="label_4" class="label" style="font-weight: bold; color: rgb(5, 79, 210);">Báo cáo kết quả<br /> xác minh</p>
                    </li>
                      <li class="text-center" role="presentation">
                            <p>&nbsp;</p>
                            <a class="nav-link">
                                <span class="round-tab disa_step_new">5</span>
                            </a>
                            <p style="font-weight: normal; color: rgb(153, 153, 153);">
                                Kết luận<br />xác minh
                            </p>
                        </li>
                        <li class="text-center" role="presentation">
                        <p>&nbsp;</p>
                        <a class="nav-link">
                            <span class="round-tab disa_step_new">6</span>
                        </a>
                        <p style="font-weight: normal; color: rgb(153, 153, 153);">
                            Công khai kết luận<br /> xác minh
                        </p>
                    </li>`
        }
        else if (tiendo == 5) {
            row = `<li class="text-center" role="presentation" data-tag="TD1" data-index="1">
                        <p id="idTD1" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step1" id="step1" data-toggle="tab" aria-controls="step1" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="1">
                            <span class="round-tab" id="round-tab-1" title="Tiến độ 1" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_1" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Ra quyết định <br /> xác minh tài sản,<br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD2" data-index="2">
                        <p id="idTD2" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step2" id="step2" data-toggle="tab" aria-controls="step2" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="2">
                            <span class="round-tab" id="round-tab-2" title="Tiến độ 2" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_2" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Giải trình tài sản <br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD3" data-index="3">
                        <p id="idTD3" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step3" id="step3" data-toggle="tab" aria-controls="step3" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="3">
                            <span class="round-tab" id="round-tab-3" title="Tiến độ 3" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_3" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Tiến hành xác minh tài sản, thu nhập</p>
                    </li>
                     <li class="text-center" role="presentation" data-tag="TD4" data-index="4">
                        <p id="idTD4" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step4" id="step4" data-toggle="tab" aria-controls="step4" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="4">
                            <span class="round-tab" id="round-tab-4" title="Tiến độ 4" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_4" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Báo cáo kết quả<br /> xác minh</p>
                    </li>
                     <li class="text-center" role="presentation" data-tag="TD5" data-index="5">
                        <p id="idTD5" class="Edit-TienDo">${(DuLieuNgay != "") ? DuLieuNgay : "&nbsp;"}</p>
                        <a href="#step5" id="step5" data-toggle="tab" aria-controls="step5" role="tab" class="nav-link active" onclick="TienDo(this)" data-model-id="5">
                            <span class="round-tab" id="round-tab-5" title="Tiến độ 5">5</span>
                        </a>
                        <p id="label_5" class="label" style="font-weight: bold; color: rgb(5, 79, 210);">Kết luận<br />xác minh</p>
                    </li>
                    <li class="text-center" role="presentation">
                        <p>&nbsp;</p>
                        <a class="nav-link">
                            <span class="round-tab disa_step_new">6</span>
                        </a>
                        <p style="font-weight: normal; color: rgb(153, 153, 153);">
                            Công khai kết luận<br /> xác minh
                        </p>
                    </li>`
        }
        else if (tiendo == 6) {
            row = `<li class="text-center" role="presentation" data-tag="TD1" data-index="1">
                        <p id="idTD1" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step1" id="step1" data-toggle="tab" aria-controls="step1" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="1">
                            <span class="round-tab" id="round-tab-1" title="Tiến độ 1" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_1" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Ra quyết định <br /> xác minh tài sản,<br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD2" data-index="2">
                        <p id="idTD2" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step2" id="step2" data-toggle="tab" aria-controls="step2" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="2">
                            <span class="round-tab" id="round-tab-2" title="Tiến độ 2" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_2" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Giải trình tài sản <br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD3" data-index="3">
                        <p id="idTD3" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step3" id="step3" data-toggle="tab" aria-controls="step3" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="3">
                            <span class="round-tab" id="round-tab-3" title="Tiến độ 3" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_3" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Tiến hành xác minh tài sản, thu nhập</p>
                    </li>
                     <li class="text-center" role="presentation" data-tag="TD4" data-index="4">
                        <p id="idTD4" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step4" id="step4" data-toggle="tab" aria-controls="step4" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="4">
                            <span class="round-tab" id="round-tab-4" title="Tiến độ 4" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_4" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Báo cáo kết quả<br /> xác minh</p>
                    </li>
                     <li class="text-center" role="presentation" data-tag="TD5" data-index="5">
                        <p id="idTD5" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step5" id="step5" data-toggle="tab" aria-controls="step5" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="5">
                            <span class="round-tab" id="round-tab-5" title="Tiến độ 5" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_5" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Kết luận<br />xác minh</p>
                    </li>
                      <li class="text-center" role="presentation" data-tag="TD6" data-index="6">
                        <p id="idTD6" class="Edit-TienDo">${(DuLieuNgay != "") ? DuLieuNgay : "&nbsp;"}</p>
                        <a href="#step6" id="step6" data-toggle="tab" aria-controls="step6" role="tab" class="nav-link active" onclick="TienDo(this)" data-model-id="6">
                            <span class="round-tab" id="round-tab-6" title="Tiến độ 6">6</span>
                        </a>
                        <p id="label_6" class="label" style="font-weight: bold; color: rgb(5, 79, 210);">Công khai kết luận<br /> xác minh</p>
                    </li>
                  `
        }
        else if (tiendo == 7) {
            row = `<li class="text-center" role="presentation" data-tag="TD1" data-index="1">
                        <p id="idTD1" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step1" id="step1" data-toggle="tab" aria-controls="step1" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="1">
                            <span class="round-tab" id="round-tab-1" title="Tiến độ 1" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_1" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Ra quyết định <br /> xác minh tài sản,<br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD2" data-index="2">
                        <p id="idTD2" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step2" id="step2" data-toggle="tab" aria-controls="step2" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="2">
                            <span class="round-tab" id="round-tab-2" title="Tiến độ 2" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_2" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Giải trình tài sản <br /> thu nhập</p>
                    </li>
                    <li class="text-center" role="presentation" data-tag="TD3" data-index="3">
                        <p id="idTD3" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step3" id="step3" data-toggle="tab" aria-controls="step3" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="3">
                            <span class="round-tab" id="round-tab-3" title="Tiến độ 3" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_3" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Tiến hành xác minh tài sản, thu nhập</p>
                    </li>
                     <li class="text-center" role="presentation" data-tag="TD4" data-index="4">
                        <p id="idTD4" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step4" id="step4" data-toggle="tab" aria-controls="step4" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="4">
                            <span class="round-tab" id="round-tab-4" title="Tiến độ 4" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_4" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Báo cáo kết quả<br /> xác minh</p>
                    </li>
                     <li class="text-center" role="presentation" data-tag="TD5" data-index="5">
                        <p id="idTD5" class="Edit-TienDo">&nbsp;</p>
                        <a href="#step5" id="step5" data-toggle="tab" aria-controls="step5" role="tab" class="nav-link" onclick="TienDo(this)" data-model-id="5">
                            <span class="round-tab" id="round-tab-5" title="Tiến độ 5" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 1px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_5" class="label" style="font-weight: normal; color: rgb(153, 153, 153);">Kết luận<br />xác minh</p>
                    </li>
                     <li class="text-center" role="presentation" data-tag="TD6" data-index="6">
                        <p id="idTD6" class="Edit-TienDo" style="font-weight: bold; color: rgb(5, 79, 210);">Hoàn thành</p>
                        <a href="#step6" id="step6" data-toggle="tab" aria-controls="step6" role="tab" class="nav-link active" onclick="TienDo(this)" data-model-id="6">
                            <span class="round-tab" id="round-tab-6" title="Tiến độ 6" style="background: rgb(255, 255, 255); color: rgb(51, 177, 20); border: 3px solid rgb(51, 177, 20);"><i class="fa fas fa-check" style="color: #33b114;"></i></span>
                        </a>
                        <p id="label_6" class="label" style="font-weight: bold; color: rgb(5, 79, 210);">Công khai kết luận<br />xác minh</p>
                    </li>`
        }
        $('.step_new').append(row)
    }
    function HoanThanh(obj) {
        var ele = $(obj);
        var TienDo = ele.data("model-id");
    
        swal.fire({
            title: 'Xác Nhận',
            text: "Vui Lòng Kiểm Tra Dữ Liệu, Sau Khi Hoàn Thành Sẽ Không Thể Sửa Đổi!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Hoàn Thành',
            cancelButtonText: 'Không, Quay lại!',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                $.post("/NV_XacMinhTaiSanThuNhap/HoanThanh", { ID_KeHoach: ID_KeHoach, TienDo: TienDo })
                    .done(function (data) {
                        $.get("/NV_XacMinhTaiSanThuNhap/GetTienDo", { ID_KeHoach: ID_KeHoach }, (data) => {

                            var SoNgay = 0;

                            if (data.NgayHoanThanhTienDoTruoc != null) {
                                var a = moment(data.NgayHoanThanhTienDoTruoc);
                                var b = moment().add(data.ThoiGianHoanThanhTienDo, 'd');;
                                SoNgay = b.diff(a, 'days');
                            }

                            LoadLayoutTienDo(data.TienDoHienTai, SoNgay)
                            LoadBodyTienDo(data.TienDoHienTai, data.CheckRaQuyetDinh)

                        }) 
                        Swal.fire({
                            icon: data.status,
                            title: data.title,
                            text: data.message,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                        dt.draw()
                    })
                    .fail(function (data) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Không thành công',
                            text: `Lỗi Hệ Thống`,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    });
            }
            else if (result.dismiss === Swal.DismissReason.cancel) {

            }
        })
    }
    function XemChiTiet(obj) {

        var ele = $(obj);
        var ID_DanhSach = ele.data("model-id");

        if ($.fn.DataTable.isDataTable("#dataTable_DSCQ1")) {
            $('#dataTable_DSCQ1').DataTable().clear().destroy();
        }

        if ($.fn.DataTable.isDataTable("#dataTable_DSCQ2")) {
            $('#dataTable_DSCQ2').DataTable().clear().destroy();
        }

        dt6 = $("#dataTable_DSCQ1").DataTable({
            "lengthChange": false,
            "info": false,
            "searching": false,
            "language": {
                "search": "",
                "info": "Tổng số _TOTAL_ hàng",
                "infoEmpty": "",
                "infoFiltered": "",
                "paginate": {
                    "next": "»",
                    "previous": "«"
                },
                "processing": `Đang tải dữ liệu`,
                searchPlaceholder: "Tìm...",
                zeroRecords: "Không tìm thấy kết quả",

            },
            "autoWidth": false,
            "serverSide": true,
            "processing": true,
            "ajax": {
                "url": `/NV_LapKeHoachXacMinh/LoadDataCoQuan/${ID_DanhSach}`,
                "type": "POST",
                "datatype": "json"
            },

            "columns": [
                { "data": "SoLuong" },
                { "data": "Ten_Loai_CQDV" },
                { "data": "Ten" },
                { "data": "SoLuong" },
            ]
        });

        dt6.on('draw.dt', function () {
            var info = dt.page.info();
            dt6.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                cell.innerHTML = i + 1 + info.start;
            });
        });


        dt7 = $("#dataTable_DSCQ2").DataTable({
            "lengthChange": false,
            "info": false,
            "searching": true,
            "language": {
                "search": "",
                "info": "Tổng số _TOTAL_ hàng",
                "infoEmpty": "",
                "infoFiltered": "",
                "paginate": {
                    "next": "»",
                    "previous": "«"
                },
                "processing": `Đang tải dữ liệu`,
                searchPlaceholder: "Tìm...",
                zeroRecords: "Không tìm thấy kết quả",

            },
            "columnDefs": [
                { className: "cn", "targets": [4] }
            ],
            "autoWidth": false,
            "serverSide": true,
            "processing": true,
            "ajax": {
                "url": `/NV_LapKeHoachXacMinh/LoadDataCanBo/${ID_DanhSach}`,
                "type": "POST",
                "datatype": "json"
            },

            "columns": [
                { "data": "Ma_CanBo" },
                { "data": "HoTen" },
                { "data": "Ten" },
                { "data": "Ten_ChucVu_ChucDanh" },
                {
                    "data": { "FileDinhKem": "FileDinhKem" }, "render": function (data, type, row) {
                        return `<div class="dropleft">
                                      <button class="btn btn-outline-info btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="padding: 4px 13px;">
                                        <i class="fa-solid fa-ellipsis-vertical"></i>
                                      </button>
                                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                        <a class="dropdown-item" href="/content/uploads/${data.FileDinhKem}" target="_blank">
                                            Tải Bản Kê Khai
                                        </a>    
                                      </div>
                                    </div>`

                    }
                },
            ]
        });

        dt7.on('draw.dt', function () {
            var info = dt.page.info();
            dt7.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
                cell.innerHTML = i + 1 + info.start;
            });
        });

        $("#search_btn1").click(() => {
            var searchValue = $('#Filter1').val().trim()

            console.log(searchValue)

            dt7.column(0).search(searchValue);
            dt7.draw()
        })

        $("#Filter1").keypress(function (e) {
            if (e.keyCode == 13) {
                dt7.columns(0).search($("#Filter1").val());
                dt7.draw();
            }
        });


        $.get("/NV_LapKeHoachXacMinh/GetKeHoachXacMinh/", { ID_DanhSach: ID_DanhSach }, (data) => {
            $('#DaDinhKem_xct').empty();
            $('#SoKeHoach_xct').val(data.SoKeHoach)
            $('#NoiDungKeHoach_xct').val(data.NoiDungKeHoach)
            $('#NgayLapKeHoach_xct').val(moment(data.NgayLapKeHoach).format("YYYY-MM-DD"))
            $('#DaDinhKem_xct').append(`<a href="/content/uploads/${data.FileKeHoach}" target="_blank">${data.FileKeHoach}</a>`)

        })
    }

    //Ra Quyết Định Xác Minh
    function FnBegin_RaQuyetDinh() {
        $('#btn_save').prop("disable", true)
        $('.loading_raquyetdinh').removeClass('d-none')
    }

    function FnSuccess_RaQuyetDinh(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_raquyetdinh').addClass('d-none')
        LoadBodyTienDo(0, 1)
        Swal.fire({
            icon: data.status,
            title: data.title,
            text: data.message,
            timer: 2000,
            showConfirmButton: false,
        })
       
    }

    function Failure_RaQuyetDinh(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_raquyetdinh').addClass('d-none')
        Swal.fire({
            icon: 'error',
            title: 'Có lỗi xảy ra',
            text: 'Lỗi Hệ Thống',
            timer: 2000,
            showConfirmButton: false,

        })
    }

    //Giải Trình Tài Sản, Thu Nhập
    function FnBegin_GiaiTrinh() {
        $('#btn_save').prop("disable", true)
        $('.loading_giaitrinh').removeClass('d-none')
    }

    function FnSuccess_GiaiTrinh(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_giaitrinh').addClass('d-none')
        $('#NgayLapBienBan').val('')
        $('#TenNguoiDuocXacMinh').val('')
        $('#FileBienBan').val('')
        $('#NoiDungBienBan').val('')
        $('#ID_GiaiTrinhTaiSanThuNhap').val(0)
        $('#DuLieuFileBienBan').html('')

        $("#FileBienBan").rules("add", {
            required: true,
            messages: {
                required: "File Biên Bản Không Được Để Trống",
            }
        });

        dt1.draw()
        Swal.fire({
            icon: data.status,
            title: data.title,
            text: data.message,
            timer: 2000,
            showConfirmButton: false,
        })

    }

    function Failure_GiaiTrinh(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_giaitrinh').addClass('d-none')
        Swal.fire({
            icon: 'error',
            title: 'Có lỗi xảy ra',
            text: 'Lỗi Hệ Thống',
            timer: 2000,
            showConfirmButton: false,

        })
    }

    function Delete_GiaiTrinh(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");
        var url = `/NV_XacMinhTaiSanThuNhap/DeleteDuLieuGiaiTrinh/${id}`
        swal.fire({
            title: 'Bạn có chắc?',
            text: "Nếu xóa sẽ không thể khôi phục!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Có, Hãy xóa!',
            cancelButtonText: 'Không, Quay lại!',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                $.post(url, { id: id })
                    .done(function (data) {
                        dt1.draw()
                        Swal.fire({
                            icon: data.status,
                            title: data.title,
                            text: data.message,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    })
                    .fail(function (data) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Không thành công',
                            text: `Lỗi Hệ Thống`,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    });
            }
            else if (result.dismiss === Swal.DismissReason.cancel) {

            }
        })

    };

    function Edit_GiaiTrinh(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");

        $.get("/NV_XacMinhTaiSanThuNhap/GetGiaiTrinh", { ID_GiaiTrinh: id }, (data) => {
            $('#NgayLapBienBan').val(moment(data.NgayLapBienBan).format("YYYY-MM-DD"))
            $('#TenNguoiDuocXacMinh').val(data.TenNguoiDuocXacMinh)
            $('#FileBienBan').val('')
            $('#NoiDungBienBan').val(data.NoiDungBienBan)
            $('#ID_GiaiTrinhTaiSanThuNhap').val(data.ID_GiaiTrinhTaiSanThuNhap)
            $('#DuLieuFileBienBan').html(`<a href="/Content/Uploads/${data.FileBienBan}" target="_blank">${data.FileBienBan}</a>`)

            $('#FileBienBan').rules('remove')
        })
    }

    //search giải trình

    function search_giaitrinh() {
        var searchValue = $('#Filter_GiaiTrinh').val().trim()
        dt1.column(0).search(searchValue);
        dt1.draw()
    }


    //Xác Minh Tài Sản, Thu Nhập
    function FnBegin_XacMinh() {
        $('#btn_save').prop("disable", true)
        $('.loading_xacminh').removeClass('d-none')
    }

    function FnSuccess_XacMinh(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_xacminh').addClass('d-none')
        $('#NgayLapBienBan').val('')
        $('#TenNguoiDuocXacMinh').val('')
        $('#FileBienBan').val('')
        $('#NoiDungBienBan').val('')
        $('#ID_GiaiTrinhTaiSanThuNhap').val(0)
        $('#DuLieuFileBienBan').html('')

        $("#FileBienBan").rules("add", {
            required: true,
            messages: {
                required: "File Biên Bản Không Được Để Trống",
            }
        });

        dt2.draw()
        Swal.fire({
            icon: data.status,
            title: data.title,
            text: data.message,
            timer: 2000,
            showConfirmButton: false,
        })

    }

    function Failure_XacMinh(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_xacminh').addClass('d-none')
        Swal.fire({
            icon: 'error',
            title: 'Có lỗi xảy ra',
            text: 'Lỗi Hệ Thống',
            timer: 2000,
            showConfirmButton: false,

        })
    }

    function Delete_XacMinh(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");
        var url = `/NV_XacMinhTaiSanThuNhap/DeleteDuLieuXacMinh/${id}`
        swal.fire({
            title: 'Bạn có chắc?',
            text: "Nếu xóa sẽ không thể khôi phục!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Có, Hãy xóa!',
            cancelButtonText: 'Không, Quay lại!',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                $.post(url, { id: id })
                    .done(function (data) {
                        dt2.draw()
                        Swal.fire({
                            icon: data.status,
                            title: data.title,
                            text: data.message,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    })
                    .fail(function (data) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Không thành công',
                            text: `Lỗi Hệ Thống`,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    });
            }
            else if (result.dismiss === Swal.DismissReason.cancel) {

            }
        })

    };

    function Edit_XacMinh(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");

        $.get("/NV_XacMinhTaiSanThuNhap/GetXacMinh", { ID_XacMinh: id }, (data) => {
            $('#NgayLapBienBan').val(moment(data.NgayLapBienBan).format("YYYY-MM-DD"))
            $('#TenNguoiDuocXacMinh').val(data.TenNguoiDuocXacMinh)
            $('#FileBienBan').val('')
            $('#NoiDungBienBan').val(data.NoiDungBienBan)
            $('#ID_TienHanhXacMinh').val(data.ID_TienHanhXacMinh)
            $('#DuLieuFileBienBan').html(`<a href="/Content/Uploads/${data.FileBienBan}" target="_blank">${data.FileBienBan}</a>`)
            $('#FileBienBan').rules('remove')
        })
    }

    //search xác minh

    function search_xacminh() {
        var searchValue = $('#Filter_XacMinh').val().trim()
        dt2.column(0).search(searchValue);
        dt2.draw()
    }

    //Báo Cáo Xác Minh Tài Sản, Thu Nhập
    function FnBegin_BaoCao() {
        $('#btn_save').prop("disable", true)
        $('.loading_baocao').removeClass('d-none')
    }

    function FnSuccess_BaoCao(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_baocao').addClass('d-none')
        $('#SoBaoCao').val('')
        $('#NgayBaoCao').val('')
        $('#FileBaoCao').val('')
      
        $('#ID_BaoCaoKetQuaXacMinh').val(0)
        $('#DuLieuFileBaoCao').html('')

        $("#FileBaoCao").rules("add", {
            required: true,
            messages: {
                required: "File Báo Cáo Chưa Được Đính Kèm",
            }
        });

        dt3.draw()
        Swal.fire({
            icon: data.status,
            title: data.title,
            text: data.message,
            timer: 2000,
            showConfirmButton: false,
        })

    }

    function Failure_BaoCao(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_baocao').addClass('d-none')
        Swal.fire({
            icon: 'error',
            title: 'Có lỗi xảy ra',
            text: 'Lỗi Hệ Thống',
            timer: 2000,
            showConfirmButton: false,

        })
    }

    function Delete_BaoCao(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");
        var url = `/NV_XacMinhTaiSanThuNhap/DeleteDuLieuBaoCao/${id}`
        swal.fire({
            title: 'Bạn có chắc?',
            text: "Nếu xóa sẽ không thể khôi phục!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Có, Hãy xóa!',
            cancelButtonText: 'Không, Quay lại!',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                $.post(url, { id: id })
                    .done(function (data) {
                        dt3.draw()
                        Swal.fire({
                            icon: data.status,
                            title: data.title,
                            text: data.message,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    })
                    .fail(function (data) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Không thành công',
                            text: `Lỗi Hệ Thống`,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    });
            }
            else if (result.dismiss === Swal.DismissReason.cancel) {

            }
        })

    };

    function Edit_BaoCao(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");

        $.get("/NV_XacMinhTaiSanThuNhap/GetBaoCao", { ID_BaoCao: id }, (data) => {
            $('#NgayBaoCao').val(moment(data.NgayBaoCao).format("YYYY-MM-DD"))
            $('#SoBaoCao').val(data.SoBaoCao)
            $('#FileBaoCao').val('')
            $('#ID_BaoCaoKetQuaXacMinh').val(data.ID_BaoCaoKetQuaXacMinh)
            $('#DuLieuFileBaoCao').html(`<a href="/Content/Uploads/${data.FileBaoCao}" target="_blank">${data.FileBaoCao}</a>`)
            $('#FileBaoCao').rules('remove')
        })
    }

    //search báo cáo

    function search_baocao() {
        var searchValue = $('#Filter_BaoCao').val().trim()
        dt3.column(0).search(searchValue);
        dt3.draw()
    }

    //Kết Luận Xác Minh
    function FnBegin_KetLuan() {
        $('#btn_save').prop("disable", true)
        $('.loading_ketluan').removeClass('d-none')
    }

    function FnSuccess_KetLuan(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_ketluan').addClass('d-none')
        $('#SoKetLuan').val('')
        $('#NgayKetLuan').val('')
        $('#NoiDungKetLuan').val('')
        $('#FileKetLuan').val('')

        $('#ID_KetLuanXacMinh').val(0)
        $('#DuLieuFileKetLuan').html('')

        $("#FileKetLuan").rules("add", {
            required: true,
            messages: {
                required: "File Kết Luận Chưa Được Đính Kèm",
            }
        });

        dt4.draw()
        Swal.fire({
            icon: data.status,
            title: data.title,
            text: data.message,
            timer: 2000,
            showConfirmButton: false,
        })

    }

    function Failure_KetLuan(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_ketluan').addClass('d-none')
        Swal.fire({
            icon: 'error',
            title: 'Có lỗi xảy ra',
            text: 'Lỗi Hệ Thống',
            timer: 2000,
            showConfirmButton: false,

        })
    }

    function Delete_KetLuan(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");
        var url = `/NV_XacMinhTaiSanThuNhap/DeleteDuLieuKetLuan/${id}`
        swal.fire({
            title: 'Bạn có chắc?',
            text: "Nếu xóa sẽ không thể khôi phục!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Có, Hãy xóa!',
            cancelButtonText: 'Không, Quay lại!',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                $.post(url, { id: id })
                    .done(function (data) {
                        dt4.draw()
                        Swal.fire({
                            icon: data.status,
                            title: data.title,
                            text: data.message,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    })
                    .fail(function (data) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Không thành công',
                            text: `Lỗi Hệ Thống`,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    });
            }
            else if (result.dismiss === Swal.DismissReason.cancel) {

            }
        })

    };

    function Edit_KetLuan(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");

        $.get("/NV_XacMinhTaiSanThuNhap/GetKetLuan", { ID_KetLuan: id }, (data) => {
            $('#NgayKetLuan').val(moment(data.NgayKetLuan).format("YYYY-MM-DD"))
            $('#SoKetLuan').val(data.SoKetLuan)
            $('#NoiDungKetLuan').val(data.NoiDungKetLuan)
            $('#FileKetLuan').val('')
            $('#ID_KetLuanXacMinh').val(data.ID_KetLuanXacMinh)
            $('#DuLieuFileKetLuan').html(`<a href="/Content/Uploads/${data.FileKetLuan}" target="_blank">${data.FileKetLuan}</a>`)
            $('#FileKetLuan').rules('remove')
        })
    }

    //search kết luận

    function search_ketluan() {
        var searchValue = $('#Filter_KetLuan').val().trim()
        dt4.column(0).search(searchValue);
        dt4.draw()
    }


    // Công Khai  Xác Minh
    function FnBegin_CongKhai() {
        $('#btn_save').prop("disable", true)
        $('.loading_congkhai').removeClass('d-none')
    }

    function FnSuccess_CongKhai(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_congkhai').addClass('d-none')
        $('#NgayCongKhaiKetLuan').val('')
        $('#NoiDungBienBan').val('')
        $('#FileBienBan').val('')

        $('#ID_GuiVaCongKhaiKetLuanXacMinh').val(0)
        $('#DuLieuFileBienBan').html('')

        $("#FileBienBan").rules("add", {
            required: true,
            messages: {
                required: "File Biên Bản Chưa Được Đính Kèm",
            }
        });

        dt5.draw()
        Swal.fire({
            icon: data.status,
            title: data.title,
            text: data.message,
            timer: 2000,
            showConfirmButton: false,
        })

    }

    function Failure_CongKhai(data) {
        $('#btn_save').prop("disable", false)
        $('.loading_congkhai').addClass('d-none')
        Swal.fire({
            icon: 'error',
            title: 'Có lỗi xảy ra',
            text: 'Lỗi Hệ Thống',
            timer: 2000,
            showConfirmButton: false,

        })
    }

    function Delete_CongKhai(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");
        var url = `/NV_XacMinhTaiSanThuNhap/DeleteDuLieuCongKhai/${id}`
        swal.fire({
            title: 'Bạn có chắc?',
            text: "Nếu xóa sẽ không thể khôi phục!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Có, Hãy xóa!',
            cancelButtonText: 'Không, Quay lại!',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                $.post(url, { id: id })
                    .done(function (data) {
                        dt5.draw()
                        Swal.fire({
                            icon: data.status,
                            title: data.title,
                            text: data.message,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    })
                    .fail(function (data) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Không thành công',
                            text: `Lỗi Hệ Thống`,
                            timer: 2000,
                            showConfirmButton: false,
                        })
                    });
            }
            else if (result.dismiss === Swal.DismissReason.cancel) {

            }
        })

    };

    function Edit_CongKhai(obj) {
        var ele = $(obj);
        var id = ele.data("model-id");

        $.get("/NV_XacMinhTaiSanThuNhap/GetCongKhai", { ID_CongKhai: id }, (data) => {
            $('#NgayCongKhaiKetLuan').val(moment(data.NgayCongKhaiKetLuan).format("YYYY-MM-DD"))
            $('#NoiDungBienBan').val(data.NoiDungBienBan)
            $('#FileBienBan').val('')
            $('#ID_GuiVaCongKhaiKetLuanXacMinh').val(data.ID_GuiVaCongKhaiKetLuanXacMinh)
            $('#DuLieuFileBienBan').html(`<a href="/Content/Uploads/${data.FileBienBan}" target="_blank">${data.FileBienBan}</a>`)
            $('#FileBienBan').rules('remove')
        })
    }

    //search công khai

    function search_congkhai() {
        var searchValue = $('#Filter_CongKhai').val().trim()
        dt5.column(0).search(searchValue);
        dt5.draw()
    }

   

    $(document).ready(function () {

        loadDataTable();

        $("#search_btn").click(() => {
            var searchValue = $('#Filter').val().trim()
            dt.column(0).search(searchValue);
            dt.draw()
        })

        $("#Filter").keypress(function (e) {
            if (e.keyCode == 13) {
                dt.columns(0).search($("#Filter").val());
                dt.draw();
            }
        });

      


        // validate Ra Quyết Định Xác Minh
        $(".NV_Create_RaQuyetDinhXacMinh").validate({
            onfocusout: function (element) {
                $(element).valid();
            },
            invalidHandler: function (form, validator) {
                validator.focusInvalid();
                Swal.fire({
                    icon: 'error',
                    title: 'Xuất hiện lỗi',
                    text: `Vui lòng kiểm tra thông báo lỗi`,
                    timer: 2000,
                    showConfirmButton: false
                })

            },
            errorClass: "is-invalid",
            validClass: "is-valid",

            rules: {
                SoVanBan: {
                    required: true,
                },
                NgayLapVanBan: {
                    required: true,
                },
                FileVanBan: {
                    required: true,
                },
                NoiDungVanBan: {
                    required: true,
                },
                SoQuyetDinh: {
                    required: true,
                },
                NgayQuyetDinh: {
                    required: true,
                },
                CanCuBanHanhQuyetDinhXacMinh: {
                    required: true,
                },
                FileToXacMinh: {
                    required: true,
                },
                FileDanhSachCanBoXacMinh: {
                    required: true,
                },
                FileNhiemVuQuyenHan: {
                    required: true,
                },
               
                ThoiHanXacMinh: {
                    required: true,
                },
                FileQuyetDinh: {
                    required: true,
                },
                NoiDungXacMinh: {
                    required: true,
                },
            },
            messages: {
                SoVanBan: {
                    required: "Số Văn Bản Không Được Để Trống",
                },
                NgayLapVanBan: {
                    required: "Ngày Lập Văn Bản Không Được Để Trống",
                },
                FileVanBan: {
                    required: "File Văn Bản Chưa Được Đính Kèm",
                },
                NoiDungVanBan: {
                    required: "Nội Dung Văn Bản Không Được Để Trống",
                },
                SoQuyetDinh: {
                    required: "Số Quyết Định Không Được Để Trống",
                },
                NgayQuyetDinh: {
                    required: "Ngày Lập Quyết Định Không Được Để Trống",
                },
                CanCuBanHanhQuyetDinhXacMinh: {
                    required: "Căn Cứ Ban Hành Quyết Định Xác Minh Chưa Được Đính Kèm",
                },
                FileToXacMinh: {
                    required: "File Tổ Xác Minh Chưa Được Đính Kèm",
                },
                FileDanhSachCanBoXacMinh: {
                    required: "File Danh Sách Cán Bộ Được Xác Minh Chưa Được Đính Kèm",
                },
                FileNhiemVuQuyenHan: {
                    required: "File Nhiệm Vụ, Quyền Hạn Chưa Được Đính Kèm",
                },
              
                ThoiHanXacMinh: {
                    required: "Thời Hạn Xác Minh Không Được Để Trống",
                },
                FileQuyetDinh: {
                    required: "File Quyết Định Chưa Được Đính Kèm",
                },
                NoiDungXacMinh: {
                    required: "Nội Dung Xác Minh Không Được Để Trống",
                },
            }

        });

    })
</script>











